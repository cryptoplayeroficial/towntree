const a0_0x2b8f14=a0_0x2c71;(function(_0xa5c804,_0x162e58){const _0x2fb2d4=a0_0x2c71,_0x159dbe=_0xa5c804();while(!![]){try{const _0x52f827=parseInt(_0x2fb2d4(0x1f8))/0x1+-parseInt(_0x2fb2d4(0x1ff))/0x2+-parseInt(_0x2fb2d4(0x1cb))/0x3+-parseInt(_0x2fb2d4(0x248))/0x4*(-parseInt(_0x2fb2d4(0x1d9))/0x5)+-parseInt(_0x2fb2d4(0x231))/0x6*(parseInt(_0x2fb2d4(0x208))/0x7)+-parseInt(_0x2fb2d4(0x219))/0x8*(-parseInt(_0x2fb2d4(0x225))/0x9)+parseInt(_0x2fb2d4(0x25a))/0xa;if(_0x52f827===_0x162e58)break;else _0x159dbe['push'](_0x159dbe['shift']());}catch(_0x332c2a){_0x159dbe['push'](_0x159dbe['shift']());}}}(a0_0x6e79,0x7b586));function a0_0x2c71(_0x52a378,_0x37e2ff){const _0x6e79a=a0_0x6e79();return a0_0x2c71=function(_0x2c71e3,_0x4fb17a){_0x2c71e3=_0x2c71e3-0x1ca;let _0x30ee95=_0x6e79a[_0x2c71e3];return _0x30ee95;},a0_0x2c71(_0x52a378,_0x37e2ff);}let totalItems={},totalBuildings={},totalConstructions={},totalStorage=[],cheapest=!![],collapsed=!![],craftItems=[],craftBuildings=[],workerBuildings=[],storageBuildings=[];const ITEM_CARD=a0_0x2b8f14(0x24f),CRAFT_CARD='craft',STORAGE_CARD=a0_0x2b8f14(0x250),WORK_CARD='work';let scale=0x1,translationX=0x0,translationY=0x0,isMouseDown=![];const treeContainer=document[a0_0x2b8f14(0x1f7)]('.tf-tree'),treeContent=document[a0_0x2b8f14(0x1f7)]('.tf-tree-content'),totalsContainer=document[a0_0x2b8f14(0x1f4)](a0_0x2b8f14(0x1ce));class Item{constructor(_0x2fbdfe,_0x430f05,_0x55db43,_0x28c351,_0x1f370d,_0x1b117e,_0x3e20e4,_0x4ac6d5,_0x397c53,_0x129d74,_0x97af15,_0x44b0f2,_0x39bd6c){const _0x36b8bf=a0_0x2b8f14;this[_0x36b8bf(0x249)]=_0x2fbdfe,this['Stars']=_0x430f05,this['Gain']=_0x55db43,this[_0x36b8bf(0x1cc)]=_0x28c351,this[_0x36b8bf(0x200)]=_0x1f370d,this[_0x36b8bf(0x1e7)]=_0x1b117e,this['Time1']=_0x3e20e4,this['Time2']=_0x4ac6d5,this['Time3']=_0x397c53,this[_0x36b8bf(0x203)]=_0x129d74,this[_0x36b8bf(0x223)]=_0x97af15,this['StoredIn']=_0x44b0f2,this[_0x36b8bf(0x1fd)]=_0x39bd6c;}}function a0_0x6e79(){const _0x14f577=['5zsJwoB','Req3','CityPrice','replace','Water','Feed','nextSibling','map','view-select','forEach','reset-zoom','button','touchcancel','touches','Time0','none','Invalid\x20card\x20type\x20provided!','key','filter','includes','Time1','Luxury_','firstChild','height','Epic_','StorageType','ProximityEmit','getElementById','.tf-tree-content','Construction\x20Needs','querySelector','727240ZXHZOL','units','createElement','left','capacity','Workers','row','1782688FeAJKV','Penalty','needs','Stars','Needs','strategy-select','Crafts','Diamond_','change','679819DbPCzJ','value','Wood','BuildCost','px)\x20scale(','Emit','Choose','addEventListener','textContent','Cost','Require','matchMedia','mouseover','className','Tesla_','scrollBy','Buildings','8TlUsJj','tf-collapsed','ProximityDist','mousemove','clientY','Dist','BlockChainID','ProximityPenalty','Construction','min','CraftedIn','touchstart','7917273fZelGf','Legendary_','tf-nc\x20item','Energy','mouseout','add','Time2','collapsed','touchmove','mouseup','insertBefore','length','30Vkngcs','top','parentElement','Time3','Ancient_','CityPoints','style','Class','Value2','totals-div','(max-width:\x20480px)','StoredIn','toggle','parentNode','remove','Value1','values','resize','appendChild','split','deltaY','Common_','Req2','1837660XlNCgw','Name','dispatchEvent','Oak_Wood','changedTouches','Great_','click','item','storage','from','StorageBuilding','grabbing','OutputPickup','clientX','Natural_','None','Cold','target','6679710moVaXm','cheapest','mouseleave','max','classList','push','getBoundingClientRect','grab','details','width','block','Req1','touchend','2556516utgJHP','Bonus','LaborCost','totalsContainer','wheel','Value3','card-modal','EdgeRequirements','startsWith','Capacity','itemSelect','error','removeChild','transform'];a0_0x6e79=function(){return _0x14f577;};return a0_0x6e79();}class WorkerBuilding{constructor(_0x16c4e9,_0x3703c7,_0x387fa2,_0x1a38e5,_0x78d67c,_0x119bbb,_0x239f20){const _0x4d9267=a0_0x2b8f14;this[_0x4d9267(0x249)]=_0x16c4e9,this[_0x4d9267(0x20b)]=_0x3703c7,this[_0x4d9267(0x1cd)]=_0x387fa2,this[_0x4d9267(0x212)]=_0x1a38e5,this['Needs']=_0x78d67c,this['CraftBuilding']=_0x119bbb,this[_0x4d9267(0x252)]=_0x239f20;}}class CraftBuilding{constructor(_0x180a3c,_0x3a399c,_0x108e75,_0x4f3701,_0xdce484,_0x45b183,_0x3d334d,_0x3d7640,_0x11ad03){const _0x46d619=a0_0x2b8f14;this[_0x46d619(0x249)]=_0x180a3c,this[_0x46d619(0x20b)]=_0x3a399c,this[_0x46d619(0x1cd)]=_0x108e75,this[_0x46d619(0x212)]=_0x4f3701,this[_0x46d619(0x20d)]=_0xdce484,this[_0x46d619(0x21e)]=_0x45b183,this[_0x46d619(0x203)]=_0x3d334d,this[_0x46d619(0x205)]=_0x3d7640,this[_0x46d619(0x1fd)]=_0x11ad03;}}class StorageBuilding{constructor(_0x55d3e8,_0x13c35e,_0xc408fd,_0x228f99,_0xdf543a,_0x2d0d77,_0x2f92e3,_0x12d8b3,_0x2716d4){const _0x3e0f94=a0_0x2b8f14;this[_0x3e0f94(0x249)]=_0x55d3e8,this['BuildCost']=_0x13c35e,this[_0x3e0f94(0x1d4)]=_0xc408fd,this['Require']=_0x228f99,this[_0x3e0f94(0x20d)]=_0xdf543a,this[_0x3e0f94(0x21e)]=_0x2d0d77,this['StorageType']=_0x2f92e3,this[_0x3e0f94(0x203)]=_0x12d8b3,this['Workers']=_0x2716d4;}}function createCollections(){const _0xbe0744=a0_0x2b8f14;for(const _0x56c50a in Buildings){const _0xa398a0=Buildings[_0x56c50a];if(_0xa398a0[_0xbe0744(0x21f)]===_0xbe0744(0x257)){if(_0xa398a0[_0xbe0744(0x1d4)]===0x0&&_0xa398a0[_0xbe0744(0x205)]===_0xbe0744(0x257)&&_0xa398a0['LaborCost']>0x0){const _0x529cd9=Array[_0xbe0744(0x251)](new Set(_0xa398a0[_0xbe0744(0x254)]['replace'](/[()]/g,'')[_0xbe0744(0x244)](',')));workerBuildings[_0x56c50a]=new WorkerBuilding(_0xa398a0[_0xbe0744(0x249)],_0xa398a0[_0xbe0744(0x20b)],_0xa398a0['LaborCost'],_0xa398a0[_0xbe0744(0x1d2)],[],_0x529cd9[_0xbe0744(0x1eb)](_0x3ec317=>isNotSpecial(_0x3ec317)&&_0x3ec317!==_0xbe0744(0x257)),[]);}else{if(_0xa398a0[_0xbe0744(0x205)]!==_0xbe0744(0x257))craftBuildings[_0x56c50a]=new CraftBuilding(_0xa398a0[_0xbe0744(0x249)],_0xa398a0[_0xbe0744(0x20b)],_0xa398a0['LaborCost'],_0xa398a0['EdgeRequirements'],_0xa398a0[_0xbe0744(0x1f3)],_0xa398a0[_0xbe0744(0x21b)],[],_0xa398a0[_0xbe0744(0x205)][_0xbe0744(0x244)](','),[]);else _0xa398a0['Crafts']===_0xbe0744(0x257)&&_0xa398a0[_0xbe0744(0x1d4)]!==0x0&&(storageBuildings[_0x56c50a]=new StorageBuilding(_0xa398a0[_0xbe0744(0x249)],_0xa398a0[_0xbe0744(0x20b)],_0xa398a0['Capacity'],_0xa398a0[_0xbe0744(0x1d2)],_0xa398a0[_0xbe0744(0x1f3)],_0xa398a0[_0xbe0744(0x21b)],_0xa398a0['StorageType'][_0xbe0744(0x244)](','),[],[]));}}}}function populateBuilding(_0x1c05c9,_0x314ff8){const _0x316ab7=a0_0x2b8f14;if(Buildings[_0x314ff8][_0x316ab7(0x221)]!=='Construction_Free'&&Buildings[_0x314ff8][_0x316ab7(0x221)]!==_0x316ab7(0x257)){const _0x42d280=Constructions[Buildings[_0x314ff8]['Construction']],_0x2c376f=[{'key':_0x42d280[_0x316ab7(0x265)],'value':_0x42d280[_0x316ab7(0x240)]},{'key':_0x42d280[_0x316ab7(0x247)],'value':_0x42d280[_0x316ab7(0x239)]},{'key':_0x42d280[_0x316ab7(0x1da)],'value':_0x42d280[_0x316ab7(0x1d0)]}],_0x105b66=_0x2c376f[_0x316ab7(0x1eb)](_0x4f666f=>_0x4f666f[_0x316ab7(0x1ea)]!==_0x316ab7(0x1e8)&&_0x4f666f['value']>0x0);_0x1c05c9['Needs']=_0x105b66['map'](_0xf5b8cb=>_0xf5b8cb);}if(_0x1c05c9 instanceof CraftBuilding)_0x1c05c9[_0x316ab7(0x1fd)]=Object[_0x316ab7(0x241)](workerBuildings)['filter'](_0x334aa9=>_0x334aa9['CraftBuilding'][_0x316ab7(0x1ec)](_0x1c05c9[_0x316ab7(0x249)]))['map'](_0x51d07d=>_0x51d07d['Name']);else _0x1c05c9 instanceof StorageBuilding&&(_0x1c05c9[_0x316ab7(0x1fd)]=Object['values'](workerBuildings)[_0x316ab7(0x1eb)](_0x47fbb7=>_0x47fbb7[_0x316ab7(0x252)][_0x316ab7(0x1ec)](_0x1c05c9[_0x316ab7(0x249)]))[_0x316ab7(0x1e0)](_0x3d6cb0=>_0x3d6cb0[_0x316ab7(0x249)]));}function populateCollection(){for(const _0x58b102 in workerBuildings){populateBuilding(workerBuildings[_0x58b102],_0x58b102);}for(const _0x1939d6 in craftBuildings){populateBuilding(craftBuildings[_0x1939d6],_0x1939d6);}for(const _0x54640b in storageBuildings){populateBuilding(storageBuildings[_0x54640b],_0x54640b);}}function createCraftItems(){const _0xc87e3b=a0_0x2b8f14;for(const _0x2c4859 in Items){const _0x103c22=Items[_0x2c4859],_0x1897bc=[],_0x45829c=[];for(const _0x5f289c in craftBuildings){const _0x4e36f6=craftBuildings[_0x5f289c];_0x4e36f6[_0xc87e3b(0x205)]&&_0x4e36f6[_0xc87e3b(0x205)][_0xc87e3b(0x1ec)](_0x103c22[_0xc87e3b(0x249)])&&(_0x45829c[_0xc87e3b(0x25f)](_0x4e36f6['Name']),_0x1897bc[_0xc87e3b(0x25f)](..._0x4e36f6[_0xc87e3b(0x1fd)]));}const _0x5bfb2b=[];for(const _0x3d1cd6 in storageBuildings){const _0x18fb00=storageBuildings[_0x3d1cd6];_0x18fb00[_0xc87e3b(0x1f2)]&&_0x18fb00[_0xc87e3b(0x1f2)][_0xc87e3b(0x1ec)](_0x103c22[_0xc87e3b(0x238)])&&_0x5bfb2b[_0xc87e3b(0x25f)](_0x18fb00[_0xc87e3b(0x249)]);}const _0x1616eb=[{'key':_0x103c22[_0xc87e3b(0x265)],'value':_0x103c22[_0xc87e3b(0x240)]},{'key':_0x103c22[_0xc87e3b(0x247)],'value':_0x103c22[_0xc87e3b(0x239)]},{'key':_0x103c22[_0xc87e3b(0x1da)],'value':_0x103c22['Value3']}],_0xbb151b=_0x1616eb[_0xc87e3b(0x1eb)](_0x597013=>_0x597013[_0xc87e3b(0x1ea)]!==_0xc87e3b(0x1e8)&&_0x597013['value']>0x0);craftItems[_0x2c4859]=new Item(_0x103c22[_0xc87e3b(0x249)],_0x103c22[_0xc87e3b(0x236)],_0x103c22[_0xc87e3b(0x1db)],_0x103c22['ProximityBonus'],_0x103c22[_0xc87e3b(0x220)],_0x103c22[_0xc87e3b(0x1e7)],_0x103c22['Time1'],_0x103c22[_0xc87e3b(0x22b)],_0x103c22[_0xc87e3b(0x234)],[..._0xbb151b['map'](_0x5cfc0e=>_0x5cfc0e)],_0x45829c,_0x5bfb2b,[...new Set(_0x1897bc)]);}return craftItems;}function adjustItems(){const _0x1b30c8=a0_0x2b8f14;let _0x1e5dc5=craftItems[_0x1b30c8(0x258)];_0x1e5dc5['StoredIn']=[],_0x1e5dc5[_0x1b30c8(0x223)]=[];for(const _0x223d03 in craftBuildings){const _0x32860c=craftBuildings[_0x223d03];if(_0x32860c['Emit']&&_0x32860c[_0x1b30c8(0x20d)][_0x1b30c8(0x1ec)](_0x1e5dc5[_0x1b30c8(0x249)]))_0x1e5dc5[_0x1b30c8(0x223)]['push'](_0x32860c[_0x1b30c8(0x249)]);}}createCollections(),populateCollection(),createCraftItems(),adjustItems(),document[a0_0x2b8f14(0x20f)]('DOMContentLoaded',function(){const _0x586f91=a0_0x2b8f14;loadItems(),setupItemSelect(),document['getElementById'](_0x586f91(0x204))['addEventListener'](_0x586f91(0x207),function(_0x32aee6){const _0x7861f4=_0x586f91;cheapest=_0x32aee6[_0x7861f4(0x259)][_0x7861f4(0x209)]===_0x7861f4(0x25b);const _0x2c91a9=document[_0x7861f4(0x1f4)](_0x7861f4(0x1d5));_0x2c91a9[_0x7861f4(0x24a)](new Event('change'));}),document[_0x586f91(0x1f4)](_0x586f91(0x1e1))[_0x586f91(0x20f)](_0x586f91(0x207),function(_0x4a7a3f){const _0x3902c1=_0x586f91;collapsed=_0x4a7a3f[_0x3902c1(0x259)][_0x3902c1(0x209)]===_0x3902c1(0x22c);const _0x370b8e=document[_0x3902c1(0x1f4)]('itemSelect');_0x370b8e[_0x3902c1(0x24a)](new Event(_0x3902c1(0x207)));});const _0x3280be=document[_0x586f91(0x1f4)](_0x586f91(0x1e3));_0x3280be[_0x586f91(0x20f)](_0x586f91(0x24e),function(){scale=0x1,translationX=0x0,translationY=0x0,applyTransform();}),document[_0x586f91(0x1f4)]('fitContentButton')['addEventListener']('click',_0x6f156b);function _0x6f156b(){const _0x26f874=_0x586f91;scale=0x1,translationX=0x0,translationY=0x0;const _0xfd1c6b=treeContainer[_0x26f874(0x260)](),_0x58a502=treeContent[_0x26f874(0x260)](),_0x2c0993=_0xfd1c6b['width']/_0x58a502['width'],_0x200db0=_0xfd1c6b[_0x26f874(0x1f0)]/_0x58a502[_0x26f874(0x1f0)],_0x2c6aa3=Math[_0x26f874(0x222)](_0x2c0993,_0x200db0),_0x8786d3=(_0xfd1c6b[_0x26f874(0x263)]-_0x2c6aa3*_0x58a502[_0x26f874(0x263)])/0x2,_0x374110=(_0xfd1c6b[_0x26f874(0x1f0)]-_0x2c6aa3*_0x58a502[_0x26f874(0x1f0)])/0x2;scale=_0x2c6aa3,translationX=_0x8786d3,translationY=_0x374110,applyTransform();}treeContainer[_0x586f91(0x20f)](_0x586f91(0x1cf),_0x23aafb=>{const _0x255ce2=_0x586f91;_0x23aafb['preventDefault']();const _0x97fb9f=0.003,_0x3bcf40=0.4,_0x35724e=0x1;let _0x222e9f=scale+_0x23aafb[_0x255ce2(0x245)]*-_0x97fb9f;_0x222e9f=Math[_0x255ce2(0x222)](Math[_0x255ce2(0x25d)](_0x222e9f,_0x3bcf40),_0x35724e);const _0x48591d=treeContent[_0x255ce2(0x260)](),_0x966cc3=_0x23aafb[_0x255ce2(0x255)]-_0x48591d[_0x255ce2(0x1fb)],_0x4193a1=_0x23aafb['clientY']-_0x48591d[_0x255ce2(0x232)];let _0x1cc368=translationX+_0x966cc3*(0x1-_0x222e9f/scale),_0x4aa530=translationY+_0x4193a1*(0x1-_0x222e9f/scale);const _0x27c1f6=treeContainer[_0x255ce2(0x260)](),_0x22d2ae=treeContent[_0x255ce2(0x260)](),_0x833263=_0x27c1f6[_0x255ce2(0x263)]-_0x222e9f*_0x22d2ae[_0x255ce2(0x263)],_0x3a074d=_0x27c1f6[_0x255ce2(0x1f0)]-_0x222e9f*_0x22d2ae[_0x255ce2(0x1f0)];_0x1cc368=Math[_0x255ce2(0x222)](Math['max'](_0x1cc368,_0x833263),0x0),_0x4aa530=Math[_0x255ce2(0x222)](Math['max'](_0x4aa530,_0x3a074d),0x0),scale=_0x222e9f,translationX=_0x1cc368,translationY=_0x4aa530,applyTransform();}),treeContainer[_0x586f91(0x20f)]('mousedown',startDrag),treeContainer[_0x586f91(0x20f)](_0x586f91(0x21c),drag),treeContainer['addEventListener'](_0x586f91(0x22e),endDrag),treeContainer[_0x586f91(0x20f)](_0x586f91(0x25c),endDrag),treeContainer[_0x586f91(0x20f)](_0x586f91(0x224),startDrag),treeContainer['addEventListener'](_0x586f91(0x22d),drag),treeContainer[_0x586f91(0x20f)](_0x586f91(0x1ca),endDrag),treeContainer[_0x586f91(0x20f)](_0x586f91(0x1e5),endDrag),checkScreenSize(),window[_0x586f91(0x20f)](_0x586f91(0x242),checkScreenSize);});function startDrag(_0x23134e){const _0x284653=a0_0x2b8f14;isMouseDown=!![],startX=_0x23134e[_0x284653(0x255)]||_0x23134e[_0x284653(0x1e6)][0x0][_0x284653(0x255)],startY=_0x23134e[_0x284653(0x21d)]||_0x23134e[_0x284653(0x1e6)][0x0][_0x284653(0x21d)],previousX=startX,previousY=startY,treeContainer['classList'][_0x284653(0x23f)](_0x284653(0x261)),treeContainer[_0x284653(0x25e)][_0x284653(0x22a)](_0x284653(0x253)),initialTranslationX=translationX;}function drag(_0x1c8700){const _0x3bc9d6=a0_0x2b8f14;if(!isMouseDown)return;_0x1c8700['preventDefault']();const _0x145ebb=_0x1c8700[_0x3bc9d6(0x255)]||_0x1c8700[_0x3bc9d6(0x1e6)][0x0]['clientX'],_0x36a716=_0x1c8700[_0x3bc9d6(0x21d)]||_0x1c8700['touches'][0x0][_0x3bc9d6(0x21d)],_0x754e9=_0x145ebb-startX;translationX=initialTranslationX+_0x754e9,applyTransform(),window[_0x3bc9d6(0x217)](0x0,previousY-_0x36a716),previousX=_0x145ebb,previousY=_0x36a716;}function endDrag(_0x527a3c){const _0x52781f=a0_0x2b8f14;isMouseDown=![],previousX=_0x527a3c['clientX']||_0x527a3c[_0x52781f(0x24c)]&&_0x527a3c[_0x52781f(0x24c)][0x0][_0x52781f(0x255)]||previousX,previousY=_0x527a3c['clientY']||_0x527a3c[_0x52781f(0x24c)]&&_0x527a3c[_0x52781f(0x24c)][0x0]['clientY']||previousY,treeContainer[_0x52781f(0x25e)][_0x52781f(0x23f)](_0x52781f(0x253)),treeContainer[_0x52781f(0x25e)][_0x52781f(0x22a)]('grab');}function getCraftNeeds(_0x5e5f83){const _0x279f01=a0_0x2b8f14,_0x2c3764=craftItems[_0x5e5f83],_0x1de632=new Map();function _0x5a7488(_0x568540,_0x1cc9af){const _0x373a0=a0_0x2c71;if(_0x568540[_0x373a0(0x230)]>0x0)for(const _0x12ee15 of _0x568540){const {key:_0x460ee8,value:_0x55b1f7}=_0x12ee15;!_0x1de632[_0x460ee8]&&(_0x1de632[_0x460ee8]=0x0);_0x1de632[_0x460ee8]=_0x1de632[_0x460ee8]+_0x55b1f7*_0x1cc9af;if(_0x460ee8!='Energy'&&_0x460ee8!=_0x373a0(0x1de)&&_0x460ee8!='Water')_0x5a7488(craftItems[_0x460ee8][_0x373a0(0x203)],_0x55b1f7*_0x1cc9af);}}return _0x5a7488(_0x2c3764[_0x279f01(0x203)],0x1),_0x1de632;}function isNotSpecial(_0x4abad7){const _0x3ff82a=a0_0x2b8f14,_0x30b182=[_0x3ff82a(0x246),'Uncommon_','Rare_',_0x3ff82a(0x226),_0x3ff82a(0x1f1),_0x3ff82a(0x235),'Big_',_0x3ff82a(0x206),_0x3ff82a(0x1ee),_0x3ff82a(0x24d),_0x3ff82a(0x216),_0x3ff82a(0x256),'Ground_'];return _0x30b182['every'](_0x3c2c5a=>!_0x4abad7[_0x3ff82a(0x1d3)](_0x3c2c5a));}function loadItems(){const _0x4c169e=a0_0x2b8f14,_0x38451e=document['getElementById'](_0x4c169e(0x1d5));for(const _0x189b05 in craftItems){const _0x1d2127=document[_0x4c169e(0x1fa)]('option');_0x1d2127[_0x4c169e(0x209)]=_0x189b05,_0x1d2127[_0x4c169e(0x210)]=craftItems[_0x189b05][_0x4c169e(0x249)],_0x38451e['appendChild'](_0x1d2127);}}function setupItemSelect(){const _0xe93f2a=a0_0x2b8f14,_0x1ed0c8=document[_0xe93f2a(0x1f4)](_0xe93f2a(0x1d5));_0x1ed0c8[_0xe93f2a(0x20f)](_0xe93f2a(0x207),function(){const _0x3aa236=_0xe93f2a;clearCardsContainer(),clearTotalsContainer(),totalStorage=[],totalBuildings=[],totalConstructions=[];const _0x4e08b5=this[_0x3aa236(0x209)];if(_0x4e08b5){var _0x37c9e6=document['querySelector']('.tf-tree-content');craftItemNeedsCard({'key':_0x4e08b5,'value':0x1},_0x37c9e6,ITEM_CARD),updateTotals(),centralizeContent();}});}function centralizeContent(){const _0x208afc=a0_0x2b8f14,_0x134f45=treeContainer[_0x208afc(0x260)](),_0x1b7cf8=treeContent[_0x208afc(0x260)]();translationX=(_0x134f45[_0x208afc(0x263)]-_0x1b7cf8[_0x208afc(0x263)])/0x2,translationY=(_0x134f45['height']-_0x1b7cf8[_0x208afc(0x1f0)])/0x2,applyTransform();}function clearCardsContainer(){const _0x55277b=a0_0x2b8f14,_0x595a94=document['querySelector']('.tf-tree\x20ul');;while(_0x595a94[_0x55277b(0x1ef)])_0x595a94[_0x55277b(0x1d7)](_0x595a94[_0x55277b(0x1ef)]);scale=0x1,translationX=0x0,translationY=0x0,applyTransform();}function clearTotalsContainer(){const _0x371e49=a0_0x2b8f14,_0x8348e7=document[_0x371e49(0x1f4)]('totalsContainer');while(_0x8348e7[_0x371e49(0x1ef)])_0x8348e7[_0x371e49(0x1d7)](_0x8348e7[_0x371e49(0x1ef)]);totalItems={},totalConstructions={};}function applyTransform(){const _0x5ea896=a0_0x2b8f14,_0xfeffad=document[_0x5ea896(0x1f7)](_0x5ea896(0x1f5));_0xfeffad[_0x5ea896(0x237)][_0x5ea896(0x1d8)]='translate('+translationX+'px,\x20'+translationY+_0x5ea896(0x20c)+scale+')';}function createCard(_0x3f3a6c,_0x2f728,_0x3d0598,_0x41eba5){const _0x850a4d=a0_0x2b8f14;let _0x4f8864=Items[_0x3f3a6c];const _0x176bd4=document[_0x850a4d(0x1fa)]('div');_0x176bd4['className']=_0x850a4d(0x227),_0x176bd4[_0x850a4d(0x20f)]('click',function(){const _0x2799d2=_0x850a4d;this[_0x2799d2(0x233)]['classList'][_0x2799d2(0x23d)](_0x2799d2(0x21a)),centralizeContent();});let _0x3b6487={'CityPoints':_0x850a4d(0x202),'CityPrice':'Gain','ProximityBonus':_0x850a4d(0x1cc),'ProximityPenalty':'Penalty','Time0':_0x850a4d(0x1e7),'Time1':_0x850a4d(0x1ed),'Time2':_0x850a4d(0x22b),'Time3':'Time3'};if(_0x3d0598!=ITEM_CARD)_0x4f8864=Buildings[_0x3f3a6c],_0x176bd4[_0x850a4d(0x215)]='tf-nc\x20building\x20'+_0x3d0598,_0x3b6487={'BuildCost':_0x850a4d(0x211),'Capacity':_0x850a4d(0x1d4),'EdgeRequirements':'Require','ProximityEmit':_0x850a4d(0x20d),'ProximityDist':'EmitD'};else{const _0x278cfa=document[_0x850a4d(0x1fa)]('div');_0x278cfa[_0x850a4d(0x215)]=_0x850a4d(0x1d1),_0x278cfa[_0x850a4d(0x237)]['display']=_0x850a4d(0x1e8),_0x176bd4[_0x850a4d(0x243)](_0x278cfa),_0x176bd4[_0x850a4d(0x20f)](_0x850a4d(0x214),function(){const _0x301856=_0x850a4d;_0x278cfa['style']['display']=_0x301856(0x264);}),_0x176bd4['addEventListener'](_0x850a4d(0x229),function(){const _0x32f06e=_0x850a4d;_0x278cfa[_0x32f06e(0x237)]['display']=_0x32f06e(0x1e8);});const _0x599b55=document[_0x850a4d(0x1fa)](_0x850a4d(0x1e4));_0x599b55[_0x850a4d(0x210)]=_0x850a4d(0x20e),_0x278cfa[_0x850a4d(0x243)](_0x599b55),_0x599b55[_0x850a4d(0x20f)](_0x850a4d(0x24e),function(){const _0x1fba9e=_0x850a4d,_0x3f8707=document[_0x1fba9e(0x1f4)](_0x1fba9e(0x1d5));_0x3f8707[_0x1fba9e(0x209)]=_0x3f3a6c,_0x3f8707['dispatchEvent'](new Event(_0x1fba9e(0x207)));});}const _0x226f55=document[_0x850a4d(0x1fa)]('h4');_0x226f55[_0x850a4d(0x210)]=_0x4f8864['Name'][_0x850a4d(0x1dc)]('_','\x20')+'\x20'+_0x2f728,_0x176bd4[_0x850a4d(0x243)](_0x226f55);for(const _0x2c8815 in _0x3b6487)if(_0x4f8864[_0x2c8815]){const _0x168e60=document[_0x850a4d(0x1fa)]('p');_0x168e60[_0x850a4d(0x210)]=_0x3b6487[_0x2c8815]+':\x20'+_0x4f8864[_0x2c8815],_0x176bd4[_0x850a4d(0x243)](_0x168e60);}let _0x402a5b=document[_0x850a4d(0x1fa)]('li');if(collapsed&&!_0x41eba5)_0x402a5b[_0x850a4d(0x215)]=_0x850a4d(0x21a);return _0x402a5b['appendChild'](_0x176bd4),_0x402a5b;}function updateTotals(){const _0xeadd8c=a0_0x2b8f14;for(var _0x5842ec in totalStorage){totalBuildings[_0x5842ec]=totalStorage[_0x5842ec];}for(var _0x5842ec in totalBuildings){for(var _0x2c1fc9 in totalBuildings[_0x5842ec][_0xeadd8c(0x201)]){var _0x3f34f6=totalBuildings[_0x5842ec][_0xeadd8c(0x201)][_0x2c1fc9][_0xeadd8c(0x209)]*totalBuildings[_0x5842ec][_0xeadd8c(0x1f9)],_0x36bfd2=totalBuildings[_0x5842ec]['needs'][_0x2c1fc9][_0xeadd8c(0x1ea)];if(totalConstructions[_0x36bfd2])totalConstructions[_0x36bfd2]+=_0x3f34f6;else totalConstructions[_0x36bfd2]=_0x3f34f6;}}for(var _0x5842ec in totalBuildings){totalBuildings[_0x5842ec]=totalBuildings[_0x5842ec][_0xeadd8c(0x1f9)];}var _0x1ad651=getCraftNeeds(document[_0xeadd8c(0x1f4)](_0xeadd8c(0x1d5))[_0xeadd8c(0x209)]);totalsContainer[_0xeadd8c(0x243)](addTotal(_0x1ad651,'Craft\x20Needs')),totalsContainer[_0xeadd8c(0x243)](addTotal(totalConstructions,_0xeadd8c(0x1f6))),totalsContainer[_0xeadd8c(0x243)](addTotal(totalBuildings,_0xeadd8c(0x218)));}function addTotal(_0xe5a936,_0x2cf01d){const _0x190977=a0_0x2b8f14,_0x22aece=document['createElement'](_0x190977(0x262));_0x22aece[_0x190977(0x25e)][_0x190977(0x22a)](_0x190977(0x23a));const _0x5d7a94=document[_0x190977(0x1fa)]('summary');_0x5d7a94[_0x190977(0x210)]=_0x2cf01d,_0x22aece[_0x190977(0x243)](_0x5d7a94);for(const _0x252fb1 in _0xe5a936){const _0x592813=document[_0x190977(0x1fa)]('p');_0x592813[_0x190977(0x210)]=_0x252fb1['replace']('_','\x20')+':\x20'+_0xe5a936[_0x252fb1],_0x22aece[_0x190977(0x243)](_0x592813);}return _0x22aece;}function craftItemNeedsCard(_0x123c9a,_0x55ac87,_0x4a1885,_0x17ca21){const _0x1c9142=a0_0x2b8f14,_0x402fc2=createCard(_0x123c9a['key'],'('+_0x123c9a[_0x1c9142(0x209)]+')',ITEM_CARD,_0x17ca21);_0x55ac87[_0x1c9142(0x243)](_0x402fc2);const _0x415436=document[_0x1c9142(0x1fa)]('ul');let _0x5c740c=craftItems[_0x123c9a[_0x1c9142(0x1ea)]],_0x643046=_0x123c9a[_0x1c9142(0x1ea)]==document['getElementById'](_0x1c9142(0x1d5))[_0x1c9142(0x209)];if(_0x4a1885==ITEM_CARD&&!_0x643046){if(totalItems[_0x123c9a[_0x1c9142(0x1ea)]])totalItems[_0x123c9a['key']]+=_0x123c9a[_0x1c9142(0x209)];else totalItems[_0x123c9a[_0x1c9142(0x1ea)]]=_0x123c9a[_0x1c9142(0x209)];}let _0x421420=getBuildingWithBestCost(_0x5c740c[_0x1c9142(0x23c)]);_0x421420&&_0x123c9a['key']!=_0x1c9142(0x1dd)&&(_0x123c9a[_0x1c9142(0x1ea)]!=_0x1c9142(0x1de)||!cheapest)&&(totalStorage[_0x421420]?(totalStorage[_0x421420]['stored']+=_0x123c9a[_0x1c9142(0x209)],totalStorage[_0x421420][_0x1c9142(0x1f9)]=Math['ceil'](totalStorage[_0x421420]['stored']/totalStorage[_0x421420][_0x1c9142(0x1fc)])):totalStorage[_0x421420]={'capacity':Buildings[_0x421420][_0x1c9142(0x1d4)],'stored':_0x123c9a[_0x1c9142(0x209)]+(_0x643046?0x9:0x0),'units':0x1,'needs':storageBuildings[_0x421420][_0x1c9142(0x203)]});if(!_0x17ca21&&_0x123c9a[_0x1c9142(0x1ea)]!='Stars'){let _0x5a1d24=_0x123c9a['key']==_0x1c9142(0x1de)&&cheapest,_0x351e0b=_0x123c9a['key']==_0x1c9142(0x228)&&cheapest;if(!_0x5a1d24&&!_0x351e0b)_0x5c740c[_0x1c9142(0x203)][_0x1c9142(0x1e2)](_0x328ccc=>{const _0x1c9144=_0x1c9142;let _0x596072=['Energy','Feed',_0x1c9144(0x20a),_0x1c9144(0x1dd),_0x1c9144(0x24b),_0x1c9144(0x202)]['includes'](_0x328ccc[_0x1c9144(0x1ea)]);craftItemNeedsCard(_0x328ccc,_0x415436,_0x4a1885,_0x596072);});var _0xe3f4aa=getBuildingWithBestCost(_0x5c740c['CraftedIn']);_0xe3f4aa&&(createRelatedCard(_0xe3f4aa,_0x415436,CRAFT_CARD),addBuilding(_0xe3f4aa,craftBuildings));if(_0x421420&&_0x123c9a[_0x1c9142(0x1ea)]!=_0x1c9142(0x1dd)&&!_0x5a1d24&&!_0x351e0b)createRelatedCard(_0x421420,_0x415436,STORAGE_CARD);var _0x14372d=getBuildingWithBestCost(_0x5c740c[_0x1c9142(0x1fd)]);_0x14372d&&!_0x5a1d24&&(createRelatedCard(_0x14372d,_0x415436,WORK_CARD),addBuilding(_0x14372d,workerBuildings)),_0x402fc2[_0x1c9142(0x243)](_0x415436);}return _0x402fc2;}function addBuilding(_0x2fb783,_0x2f9925){const _0x18dcc8=a0_0x2b8f14;totalBuildings[_0x2fb783]?totalBuildings[_0x2fb783][_0x18dcc8(0x1f9)]++:totalBuildings[_0x2fb783]={'units':0x1,'needs':_0x2f9925[_0x2fb783]['Needs']};}function getBuildingWithBestCost(_0x718575){const _0x18ed63=a0_0x2b8f14;let _0x4797a1=cheapest?Infinity:-Infinity,_0x11df14=null;for(const _0x4f9e12 of _0x718575){const _0x369b8d=Buildings[_0x4f9e12];if(_0x369b8d[_0x18ed63(0x21f)]!==_0x18ed63(0x257))continue;if(cheapest&&_0x369b8d[_0x18ed63(0x20b)]<_0x4797a1)_0x4797a1=_0x369b8d[_0x18ed63(0x20b)],_0x11df14=_0x4f9e12;else{if(!cheapest&&_0x369b8d[_0x18ed63(0x20b)]>_0x4797a1)_0x4797a1=_0x369b8d[_0x18ed63(0x20b)],_0x11df14=_0x4f9e12;else{if(_0x369b8d[_0x18ed63(0x20b)]===_0x4797a1){if(cheapest&&_0x369b8d[_0x18ed63(0x1cd)]<Buildings[_0x11df14][_0x18ed63(0x1cd)])_0x11df14=_0x4f9e12;else{if(!cheapest&&_0x369b8d[_0x18ed63(0x1cd)]>Buildings[_0x11df14][_0x18ed63(0x1cd)])_0x11df14=_0x4f9e12;else _0x369b8d[_0x18ed63(0x1cd)]===Buildings[_0x11df14]['LaborCost']&&((_0x369b8d['Construction']===_0x18ed63(0x257)||_0x369b8d[_0x18ed63(0x221)]==='Construction_Free')&&(_0x11df14=_0x4f9e12));}}}}}return _0x11df14;}function createRelatedCard(_0x53d9e6,_0x403611,_0x21a79a){const _0x3da926=a0_0x2b8f14;let _0xc2d5c5=[];switch(_0x21a79a){case STORAGE_CARD:_0xc2d5c5=storageBuildings[_0x53d9e6][_0x3da926(0x203)];break;case CRAFT_CARD:_0xc2d5c5=craftBuildings[_0x53d9e6][_0x3da926(0x203)];break;case WORK_CARD:_0xc2d5c5=workerBuildings[_0x53d9e6][_0x3da926(0x203)];break;default:console[_0x3da926(0x1d6)](_0x3da926(0x1e9));return;}const _0x10f9c4=createCard(_0x53d9e6,'',_0x21a79a,_0xc2d5c5[_0x3da926(0x230)]<0x1);_0x403611[_0x3da926(0x243)](_0x10f9c4);if(_0xc2d5c5[_0x3da926(0x230)]>0x0){const _0x295d58=document[_0x3da926(0x1fa)]('ul');_0x10f9c4[_0x3da926(0x243)](_0x295d58),_0xc2d5c5[_0x3da926(0x1e2)](_0x27ac6e=>{const _0x116506=_0x3da926;let _0x2ed357=[_0x116506(0x228),_0x116506(0x1de),_0x116506(0x20a),_0x116506(0x1dd),_0x116506(0x24b),_0x116506(0x202)][_0x116506(0x1ec)](_0x27ac6e[_0x116506(0x1ea)]);craftItemNeedsCard(_0x27ac6e,_0x295d58,_0x21a79a,_0x2ed357);});}}function checkScreenSize(){const _0x1a1c5b=a0_0x2b8f14;if(window[_0x1a1c5b(0x213)](_0x1a1c5b(0x23b))['matches']){var _0xda7b94=document[_0x1a1c5b(0x1f4)](_0x1a1c5b(0x1ce)),_0x188c73=document[_0x1a1c5b(0x1f4)]('treeContainer'),_0x354ab3=document[_0x1a1c5b(0x1fa)]('div');_0x354ab3[_0x1a1c5b(0x215)]=_0x1a1c5b(0x1fe),_0x354ab3[_0x1a1c5b(0x243)](_0xda7b94),_0x188c73[_0x1a1c5b(0x23e)][_0x1a1c5b(0x22f)](_0x354ab3,_0x188c73[_0x1a1c5b(0x1df)]);}else{}}