function a0_0x473b(_0x1c0e23,_0x2b435b){const _0x52d348=a0_0x52d3();return a0_0x473b=function(_0x473b96,_0x325a0c){_0x473b96=_0x473b96-0xe4;let _0x59d218=_0x52d348[_0x473b96];return _0x59d218;},a0_0x473b(_0x1c0e23,_0x2b435b);}const a0_0x39c1e7=a0_0x473b;(function(_0x358930,_0x3cdb47){const _0x3acf0e=a0_0x473b,_0x31173a=_0x358930();while(!![]){try{const _0x103caf=-parseInt(_0x3acf0e(0xed))/0x1+parseInt(_0x3acf0e(0xfa))/0x2*(parseInt(_0x3acf0e(0x175))/0x3)+parseInt(_0x3acf0e(0x11e))/0x4*(parseInt(_0x3acf0e(0x11c))/0x5)+-parseInt(_0x3acf0e(0x12c))/0x6+parseInt(_0x3acf0e(0x178))/0x7+-parseInt(_0x3acf0e(0x119))/0x8*(-parseInt(_0x3acf0e(0x17d))/0x9)+parseInt(_0x3acf0e(0x115))/0xa*(-parseInt(_0x3acf0e(0x126))/0xb);if(_0x103caf===_0x3cdb47)break;else _0x31173a['push'](_0x31173a['shift']());}catch(_0x52704f){_0x31173a['push'](_0x31173a['shift']());}}}(a0_0x52d3,0xe4d9c));let totalItems={},totalBuildings={},totalConstructions={},totalStorage=[],cheapest=!![],collapsed=!![],craftItems=[],craftBuildings=[],workerBuildings=[],storageBuildings=[];const ITEM_CARD=a0_0x39c1e7(0x13f),CRAFT_CARD=a0_0x39c1e7(0x17b),STORAGE_CARD=a0_0x39c1e7(0xfb),WORK_CARD=a0_0x39c1e7(0x182);let scale=0x1,translationX=0x0,translationY=0x0,isMouseDown=![];const treeContainer=document[a0_0x39c1e7(0x17f)]('.tf-tree'),treeContent=document['querySelector'](a0_0x39c1e7(0x157)),totalsContainer=document['getElementById'](a0_0x39c1e7(0x164));class Item{constructor(_0x7cc14c,_0x2586e7,_0x2ee4e9,_0x590672,_0x10e697,_0x3fc835,_0x37b33c,_0x101c19,_0x40f0ec,_0x5525b3,_0x586fb9,_0x5bbfdb,_0x2db3f2){const _0x389ce9=a0_0x39c1e7;this[_0x389ce9(0x143)]=_0x7cc14c,this[_0x389ce9(0x168)]=_0x2586e7,this[_0x389ce9(0x12d)]=_0x2ee4e9,this[_0x389ce9(0x15a)]=_0x590672,this[_0x389ce9(0x16b)]=_0x10e697,this[_0x389ce9(0x16d)]=_0x3fc835,this[_0x389ce9(0x104)]=_0x37b33c,this[_0x389ce9(0x165)]=_0x101c19,this[_0x389ce9(0x109)]=_0x40f0ec,this[_0x389ce9(0x103)]=_0x5525b3,this[_0x389ce9(0x162)]=_0x586fb9,this[_0x389ce9(0x13c)]=_0x5bbfdb,this[_0x389ce9(0x116)]=_0x2db3f2;}}class WorkerBuilding{constructor(_0x6d49ce,_0x38e9c0,_0x10e4b6,_0x30fbf4,_0x3fed1b,_0x2badec,_0x467ca0){const _0x120d39=a0_0x39c1e7;this['Name']=_0x6d49ce,this[_0x120d39(0x179)]=_0x38e9c0,this[_0x120d39(0x13d)]=_0x10e4b6,this[_0x120d39(0x14e)]=_0x30fbf4,this['Needs']=_0x3fed1b,this['CraftBuilding']=_0x2badec,this[_0x120d39(0x181)]=_0x467ca0;}}class CraftBuilding{constructor(_0x326381,_0x114f43,_0x5b45f4,_0xdde1ae,_0x3c61cd,_0x578822,_0x2ebd46,_0x4de695,_0x202ca9){const _0xaa0bd=a0_0x39c1e7;this[_0xaa0bd(0x143)]=_0x326381,this[_0xaa0bd(0x179)]=_0x114f43,this[_0xaa0bd(0x13d)]=_0x5b45f4,this[_0xaa0bd(0x14e)]=_0xdde1ae,this[_0xaa0bd(0xe4)]=_0x3c61cd,this[_0xaa0bd(0x142)]=_0x578822,this[_0xaa0bd(0x103)]=_0x2ebd46,this[_0xaa0bd(0x159)]=_0x4de695,this[_0xaa0bd(0x116)]=_0x202ca9;}}class StorageBuilding{constructor(_0x24eafa,_0x2be389,_0x4aa058,_0x49e757,_0x1d97cf,_0xf0d651,_0x3b8a6f,_0x1332cb,_0x49f680){const _0x2cd01b=a0_0x39c1e7;this[_0x2cd01b(0x143)]=_0x24eafa,this[_0x2cd01b(0x179)]=_0x2be389,this['Capacity']=_0x4aa058,this[_0x2cd01b(0x14e)]=_0x49e757,this[_0x2cd01b(0xe4)]=_0x1d97cf,this[_0x2cd01b(0x142)]=_0xf0d651,this[_0x2cd01b(0x137)]=_0x3b8a6f,this['Needs']=_0x1332cb,this['Workers']=_0x49f680;}}function createCollections(){const _0x4a3e09=a0_0x39c1e7;for(const _0x2fe8dd in Buildings){const _0x46ed40=Buildings[_0x2fe8dd];if(_0x46ed40[_0x4a3e09(0x17c)]===_0x4a3e09(0x107)){if(_0x46ed40[_0x4a3e09(0x136)]===0x0&&_0x46ed40[_0x4a3e09(0x159)]===_0x4a3e09(0x107)&&_0x46ed40['LaborCost']>0x0){const _0x2ff725=Array[_0x4a3e09(0x172)](new Set(_0x46ed40['OutputPickup'][_0x4a3e09(0x144)](/[()]/g,'')[_0x4a3e09(0xee)](',')));workerBuildings[_0x2fe8dd]=new WorkerBuilding(_0x46ed40['Name'],_0x46ed40[_0x4a3e09(0x179)],_0x46ed40[_0x4a3e09(0x13d)],_0x46ed40['EdgeRequirements'],[],_0x2ff725[_0x4a3e09(0x135)](_0x108b27=>isNotSpecial(_0x108b27)&&_0x108b27!==_0x4a3e09(0x107)),[]);}else{if(_0x46ed40[_0x4a3e09(0x159)]!==_0x4a3e09(0x107))craftBuildings[_0x2fe8dd]=new CraftBuilding(_0x46ed40['Name'],_0x46ed40[_0x4a3e09(0x179)],_0x46ed40['LaborCost'],_0x46ed40[_0x4a3e09(0x120)],_0x46ed40[_0x4a3e09(0xf8)],_0x46ed40[_0x4a3e09(0x174)],[],_0x46ed40[_0x4a3e09(0x159)][_0x4a3e09(0xee)](','),[]);else _0x46ed40['Crafts']==='None'&&_0x46ed40['Capacity']!==0x0&&(storageBuildings[_0x2fe8dd]=new StorageBuilding(_0x46ed40['Name'],_0x46ed40[_0x4a3e09(0x179)],_0x46ed40[_0x4a3e09(0x136)],_0x46ed40[_0x4a3e09(0x120)],_0x46ed40[_0x4a3e09(0xf8)],_0x46ed40[_0x4a3e09(0x174)],_0x46ed40[_0x4a3e09(0x137)]['split'](','),[],[]));}}}}function populateBuilding(_0x5e707e,_0x58d13f){const _0x350189=a0_0x39c1e7;if(Buildings[_0x58d13f][_0x350189(0x102)]!==_0x350189(0x17e)&&Buildings[_0x58d13f][_0x350189(0x102)]!==_0x350189(0x107)){const _0x4b6920=Constructions[Buildings[_0x58d13f][_0x350189(0x102)]],_0x32cbba=[{'key':_0x4b6920['Req1'],'value':_0x4b6920['Value1']},{'key':_0x4b6920['Req2'],'value':_0x4b6920[_0x350189(0xf1)]},{'key':_0x4b6920[_0x350189(0x130)],'value':_0x4b6920[_0x350189(0x110)]}],_0x5e5ee9=_0x32cbba['filter'](_0x3c7d31=>_0x3c7d31[_0x350189(0xf4)]!==_0x350189(0xe8)&&_0x3c7d31[_0x350189(0x134)]>0x0);_0x5e707e['Needs']=_0x5e5ee9[_0x350189(0xf6)](_0x3859d6=>_0x3859d6);}if(_0x5e707e instanceof CraftBuilding)_0x5e707e[_0x350189(0x116)]=Object[_0x350189(0x10c)](workerBuildings)[_0x350189(0x135)](_0x4ca88b=>_0x4ca88b['CraftBuilding']['includes'](_0x5e707e[_0x350189(0x143)]))[_0x350189(0xf6)](_0x10fa77=>_0x10fa77[_0x350189(0x143)]);else _0x5e707e instanceof StorageBuilding&&(_0x5e707e['Workers']=Object['values'](workerBuildings)[_0x350189(0x135)](_0x335636=>_0x335636[_0x350189(0x181)]['includes'](_0x5e707e[_0x350189(0x143)]))[_0x350189(0xf6)](_0x10f6d2=>_0x10f6d2[_0x350189(0x143)]));}function populateCollection(){for(const _0x341abb in workerBuildings){populateBuilding(workerBuildings[_0x341abb],_0x341abb);}for(const _0x3d6d18 in craftBuildings){populateBuilding(craftBuildings[_0x3d6d18],_0x3d6d18);}for(const _0x1781e7 in storageBuildings){populateBuilding(storageBuildings[_0x1781e7],_0x1781e7);}}function createCraftItems(){const _0x188777=a0_0x39c1e7;for(const _0x58d62e in Items){const _0x3eda26=Items[_0x58d62e],_0x11a00b=[],_0x5e2cf6=[];for(const _0x44fdf2 in craftBuildings){const _0xc96d3e=craftBuildings[_0x44fdf2];_0xc96d3e[_0x188777(0x159)]&&_0xc96d3e['Crafts'][_0x188777(0xef)](_0x3eda26[_0x188777(0x143)])&&(_0x5e2cf6[_0x188777(0x101)](_0xc96d3e[_0x188777(0x143)]),_0x11a00b[_0x188777(0x101)](..._0xc96d3e['Workers']));}const _0x2e9ea5=[];for(const _0x26bb3e in storageBuildings){const _0x51942b=storageBuildings[_0x26bb3e];_0x51942b[_0x188777(0x137)]&&_0x51942b['StorageType'][_0x188777(0xef)](_0x3eda26[_0x188777(0x124)])&&_0x2e9ea5[_0x188777(0x101)](_0x51942b[_0x188777(0x143)]);}const _0x1a3a9c=[{'key':_0x3eda26['Req1'],'value':_0x3eda26['Value1']},{'key':_0x3eda26[_0x188777(0x160)],'value':_0x3eda26[_0x188777(0xf1)]},{'key':_0x3eda26[_0x188777(0x130)],'value':_0x3eda26[_0x188777(0x110)]}],_0x38656f=_0x1a3a9c['filter'](_0x3ab4d6=>_0x3ab4d6[_0x188777(0xf4)]!==_0x188777(0xe8)&&_0x3ab4d6[_0x188777(0x134)]>0x0);craftItems[_0x58d62e]=new Item(_0x3eda26[_0x188777(0x143)],_0x3eda26[_0x188777(0x167)],_0x3eda26[_0x188777(0x156)],_0x3eda26[_0x188777(0xe9)],_0x3eda26['ProximityPenalty'],_0x3eda26['Time0'],_0x3eda26[_0x188777(0x104)],_0x3eda26[_0x188777(0x165)],_0x3eda26[_0x188777(0x109)],[..._0x38656f['map'](_0x339dbb=>_0x339dbb)],_0x5e2cf6,_0x2e9ea5,[...new Set(_0x11a00b)]);}return craftItems;}function adjustItems(){const _0x4c5d61=a0_0x39c1e7;let _0x48b467=craftItems[_0x4c5d61(0x117)];_0x48b467['StoredIn']=[],_0x48b467[_0x4c5d61(0x162)]=[];for(const _0x4ae8ae in craftBuildings){const _0x96e85e=craftBuildings[_0x4ae8ae];if(_0x96e85e[_0x4c5d61(0xe4)]&&_0x96e85e[_0x4c5d61(0xe4)]['includes'](_0x48b467['Name']))_0x48b467[_0x4c5d61(0x162)][_0x4c5d61(0x101)](_0x96e85e[_0x4c5d61(0x143)]);}}createCollections(),populateCollection(),createCraftItems(),adjustItems(),document['addEventListener'](a0_0x39c1e7(0x186),function(){const _0xc687d9=a0_0x39c1e7;loadItems(),setupItemSelect(),document[_0xc687d9(0x132)](_0xc687d9(0xea))[_0xc687d9(0x16a)](_0xc687d9(0x108),function(_0xb81669){const _0x57cb9e=_0xc687d9;cheapest=_0xb81669[_0x57cb9e(0xf3)]['value']===_0x57cb9e(0x173);const _0x567cff=document[_0x57cb9e(0x132)](_0x57cb9e(0x105));_0x567cff[_0x57cb9e(0x13e)](new Event(_0x57cb9e(0x108)));}),document[_0xc687d9(0x132)](_0xc687d9(0x10d))['addEventListener']('change',function(_0x439c33){const _0xc73dfb=_0xc687d9;collapsed=_0x439c33[_0xc73dfb(0xf3)][_0xc73dfb(0x134)]==='collapsed';const _0x5e3961=document[_0xc73dfb(0x132)](_0xc73dfb(0x105));_0x5e3961[_0xc73dfb(0x13e)](new Event(_0xc73dfb(0x108)));});const _0x2f8a26=document[_0xc687d9(0x132)]('reset-zoom');let _0x1d75e6=0x1,_0x2e688f=0x0,_0x5b79fa=0x0,_0x3b4250,_0x3cc85c;_0x2f8a26[_0xc687d9(0x16a)](_0xc687d9(0xec),function(){scale=0x1,translationX=0x0,translationY=0x0,applyTransform();}),document[_0xc687d9(0x132)](_0xc687d9(0x14f))['addEventListener']('click',_0x166dff);function _0x166dff(){const _0xf8dc56=_0xc687d9;scale=0x1,translationX=0x0,translationY=0x0;const _0x5b0c0a=treeContainer[_0xf8dc56(0xf5)](),_0x31727d=treeContent['getBoundingClientRect'](),_0xf84a91=_0x5b0c0a[_0xf8dc56(0x171)]/_0x31727d[_0xf8dc56(0x171)],_0x259df2=_0x5b0c0a['height']/_0x31727d['height'],_0x40d8b7=Math[_0xf8dc56(0x14d)](_0xf84a91,_0x259df2),_0x478850=(_0x5b0c0a[_0xf8dc56(0x171)]-_0x40d8b7*_0x31727d[_0xf8dc56(0x171)])/0x2,_0x294526=(_0x5b0c0a['height']-_0x40d8b7*_0x31727d['height'])/0x2;scale=_0x40d8b7,translationX=_0x478850,translationY=_0x294526,applyTransform();}treeContainer[_0xc687d9(0x16a)](_0xc687d9(0x16c),_0x1e0b16=>{const _0x3628c1=_0xc687d9;_0x1e0b16[_0x3628c1(0x11a)]();const _0x2774bd=0.003,_0x1b2382=0.4,_0x286aa9=0x1;let _0x47812b=scale+_0x1e0b16['deltaY']*-_0x2774bd;_0x47812b=Math[_0x3628c1(0x14d)](Math[_0x3628c1(0x121)](_0x47812b,_0x1b2382),_0x286aa9);const _0x347499=treeContent[_0x3628c1(0xf5)](),_0x57453e=_0x1e0b16[_0x3628c1(0x133)]-_0x347499[_0x3628c1(0x15d)],_0x46c1f9=_0x1e0b16['clientY']-_0x347499[_0x3628c1(0x14a)];let _0x3bf712=translationX+_0x57453e*(0x1-_0x47812b/scale),_0xeb7f0e=translationY+_0x46c1f9*(0x1-_0x47812b/scale);const _0x2ea843=treeContainer['getBoundingClientRect'](),_0x19a6b3=treeContent[_0x3628c1(0xf5)](),_0x695c5f=_0x2ea843[_0x3628c1(0x171)]-_0x47812b*_0x19a6b3['width'],_0x59e8ff=_0x2ea843[_0x3628c1(0x139)]-_0x47812b*_0x19a6b3[_0x3628c1(0x139)];_0x3bf712=Math[_0x3628c1(0x14d)](Math[_0x3628c1(0x121)](_0x3bf712,_0x695c5f),0x0),_0xeb7f0e=Math['min'](Math[_0x3628c1(0x121)](_0xeb7f0e,_0x59e8ff),0x0),scale=_0x47812b,translationX=_0x3bf712,translationY=_0xeb7f0e,applyTransform();});let _0x3ea2ef=0x0;treeContainer[_0xc687d9(0x16a)](_0xc687d9(0x188),startDrag),treeContainer[_0xc687d9(0x16a)](_0xc687d9(0x141),drag),treeContainer[_0xc687d9(0x16a)](_0xc687d9(0x14b),endDrag),treeContainer[_0xc687d9(0x16a)](_0xc687d9(0x12b),endDrag),treeContainer[_0xc687d9(0x16a)](_0xc687d9(0x138),startDrag),treeContainer[_0xc687d9(0x16a)](_0xc687d9(0x169),drag),treeContainer[_0xc687d9(0x16a)](_0xc687d9(0xe7),endDrag),treeContainer[_0xc687d9(0x16a)](_0xc687d9(0x16f),endDrag),checkScreenSize(),window[_0xc687d9(0x16a)]('resize',checkScreenSize);});function startDrag(_0x47d73f){const _0x1b1107=a0_0x39c1e7;isMouseDown=!![],startX=_0x47d73f[_0x1b1107(0x133)]||_0x47d73f[_0x1b1107(0x13b)][0x0]['clientX'],startY=_0x47d73f[_0x1b1107(0x187)]||_0x47d73f[_0x1b1107(0x13b)][0x0]['clientY'],previousX=startX,previousY=startY,treeContainer[_0x1b1107(0xeb)]['remove']('grab'),treeContainer[_0x1b1107(0xeb)][_0x1b1107(0xfc)](_0x1b1107(0x185)),initialTranslationX=translationX;}function drag(_0x4edeea){const _0x384a7e=a0_0x39c1e7;if(!isMouseDown)return;_0x4edeea[_0x384a7e(0x11a)]();const _0x47a95d=_0x4edeea[_0x384a7e(0x133)]||_0x4edeea[_0x384a7e(0x13b)][0x0][_0x384a7e(0x133)],_0x55e531=_0x4edeea[_0x384a7e(0x187)]||_0x4edeea['touches'][0x0][_0x384a7e(0x187)],_0x2d2e25=_0x47a95d-startX;translationX=initialTranslationX+_0x2d2e25,applyTransform(),window[_0x384a7e(0x154)](0x0,previousY-_0x55e531),previousX=_0x47a95d,previousY=_0x55e531;}function endDrag(_0xb1aa6d){const _0x40f8ce=a0_0x39c1e7;isMouseDown=![],previousX=_0xb1aa6d[_0x40f8ce(0x133)]||_0xb1aa6d[_0x40f8ce(0x13a)]&&_0xb1aa6d['changedTouches'][0x0]['clientX']||previousX,previousY=_0xb1aa6d[_0x40f8ce(0x187)]||_0xb1aa6d[_0x40f8ce(0x13a)]&&_0xb1aa6d[_0x40f8ce(0x13a)][0x0][_0x40f8ce(0x187)]||previousY,treeContainer[_0x40f8ce(0xeb)][_0x40f8ce(0x147)](_0x40f8ce(0x185)),treeContainer[_0x40f8ce(0xeb)][_0x40f8ce(0xfc)]('grab');}function checkScreenSize(){const _0x3a5add=a0_0x39c1e7;if(window[_0x3a5add(0x123)](_0x3a5add(0x12e))[_0x3a5add(0x131)]){var _0x27d6c3=document[_0x3a5add(0x132)](_0x3a5add(0x164)),_0x2592c5=document[_0x3a5add(0x132)](_0x3a5add(0x15c)),_0x474b94=document['createElement']('div');_0x474b94['className']='row',_0x474b94['appendChild'](_0x27d6c3),_0x2592c5[_0x3a5add(0x146)][_0x3a5add(0x184)](_0x474b94,_0x2592c5[_0x3a5add(0x140)]);}else{}}function isNotSpecial(_0x59d1b9){const _0x13929b=a0_0x39c1e7,_0x1228ee=['Common_',_0x13929b(0xe5),_0x13929b(0x122),_0x13929b(0x10f),_0x13929b(0x15f),_0x13929b(0xf2),'Big_',_0x13929b(0x114),_0x13929b(0x170),_0x13929b(0x148),_0x13929b(0x129),_0x13929b(0x176),'Ground_'];return _0x1228ee[_0x13929b(0x11d)](_0x3518ee=>!_0x59d1b9['startsWith'](_0x3518ee));}function loadItems(){const _0x49ea64=a0_0x39c1e7,_0x311771=document[_0x49ea64(0x132)](_0x49ea64(0x105));for(const _0x19f781 in craftItems){const _0x534cbd=document[_0x49ea64(0x12a)]('option');_0x534cbd['value']=_0x19f781,_0x534cbd[_0x49ea64(0x145)]=craftItems[_0x19f781][_0x49ea64(0x143)],_0x311771[_0x49ea64(0x150)](_0x534cbd);}}function setupItemSelect(){const _0x2138f5=a0_0x39c1e7,_0x36c767=document['getElementById'](_0x2138f5(0x105));_0x36c767[_0x2138f5(0x16a)](_0x2138f5(0x108),function(){const _0x3ab42c=_0x2138f5;clearCardsContainer(),clearTotalsContainer(),totalStorage=[],totalBuildings=[],totalConstructions=[];const _0x1f2ad1=this[_0x3ab42c(0x134)];if(_0x1f2ad1){var _0x2ed4b8=document['querySelector']('.tf-tree-content');craftItemNeedsCard({'key':_0x1f2ad1,'value':0x1},_0x2ed4b8,ITEM_CARD),updateTotals(),centralizeContent();}});}function centralizeContent(){const _0x4df5c5=a0_0x39c1e7,_0x78a0f=treeContainer[_0x4df5c5(0xf5)](),_0x4d2370=treeContent[_0x4df5c5(0xf5)]();translationX=(_0x78a0f[_0x4df5c5(0x171)]-_0x4d2370[_0x4df5c5(0x171)])/0x2,translationY=(_0x78a0f[_0x4df5c5(0x139)]-_0x4d2370['height'])/0x2,applyTransform();}function a0_0x52d3(){const _0x1eca4d=['error','min','Require','fitContentButton','appendChild','Construction\x20Needs','div','Craft\x20Needs','scrollBy','Invalid\x20card\x20type\x20provided!','CityPrice','.tf-tree-content','Energy','Crafts','Bonus','units','treeContainer','left','Water','Epic_','Req2','tf-nc\x20building\x20','CraftedIn','length','totalsContainer','Time2','block','CityPoints','Stars','touchmove','addEventListener','Penalty','wheel','Time0','mouseover','touchcancel','Luxury_','width','from','cheapest','ProximityDist','3062172IjrHTw','Natural_','tf-collapsed','7063511XQxOAo','BuildCost','capacity','craft','BlockChainID','105921WOrgcs','Construction_Free','querySelector','stored','StorageBuilding','work','EmitD','insertBefore','grabbing','DOMContentLoaded','clientY','mousedown','Emit','Uncommon_','details','touchend','none','ProximityBonus','strategy-select','classList','click','1653528xGWnbZ','split','includes','Cost','Value2','Ancient_','target','key','getBoundingClientRect','map','display','ProximityEmit','removeChild','2kZwzOD','storage','add','Wood','firstChild','forEach','tf-nc\x20item','push','Construction','Needs','Time1','itemSelect','needs','None','change','Time3','Feed','totals-div','values','view-select','Oak_Wood','Legendary_','Value3','translate(','Choose','style','Diamond_','10QtFaoe','Workers','Cold','summary','520ilBgbN','preventDefault','className','155HTUihC','every','50156euaptq','mouseout','EdgeRequirements','max','Rare_','matchMedia','Class','Buildings','1465277edeBCt','ceil','.tf-tree\x20ul','Tesla_','createElement','mouseleave','2756304LhhqzM','Gain','(max-width:\x20480px)','px)\x20scale(','Req3','matches','getElementById','clientX','value','filter','Capacity','StorageType','touchstart','height','changedTouches','touches','StoredIn','LaborCost','dispatchEvent','item','nextSibling','mousemove','Dist','Name','replace','textContent','parentNode','remove','Great_','button','top','mouseup'];a0_0x52d3=function(){return _0x1eca4d;};return a0_0x52d3();}function clearCardsContainer(){const _0x2d0a68=a0_0x39c1e7,_0xce4b4d=document[_0x2d0a68(0x17f)](_0x2d0a68(0x128));;while(_0xce4b4d[_0x2d0a68(0xfe)])_0xce4b4d[_0x2d0a68(0xf9)](_0xce4b4d[_0x2d0a68(0xfe)]);scale=0x1,translationX=0x0,translationY=0x0,applyTransform();}function clearTotalsContainer(){const _0x1e6739=a0_0x39c1e7,_0x380af5=document[_0x1e6739(0x132)]('totalsContainer');while(_0x380af5[_0x1e6739(0xfe)])_0x380af5[_0x1e6739(0xf9)](_0x380af5['firstChild']);totalItems={},totalConstructions={};}function applyTransform(){const _0x5e6e8d=a0_0x39c1e7,_0x3af89b=document[_0x5e6e8d(0x17f)](_0x5e6e8d(0x157));_0x3af89b['style']['transform']=_0x5e6e8d(0x111)+translationX+'px,\x20'+translationY+_0x5e6e8d(0x12f)+scale+')';}function createCard(_0x355682,_0x24715d,_0x5008e3,_0x4a594c){const _0x1eea57=a0_0x39c1e7;let _0x3e0fa1=Items[_0x355682];const _0x38c7dc=document['createElement'](_0x1eea57(0x152));_0x38c7dc[_0x1eea57(0x11b)]=_0x1eea57(0x100),_0x38c7dc[_0x1eea57(0x16a)](_0x1eea57(0xec),function(){const _0x6e789b=_0x1eea57;this['parentElement']['classList']['toggle'](_0x6e789b(0x177)),centralizeContent();});let _0x2b5a21={'CityPoints':'Stars','CityPrice':'Gain','ProximityBonus':_0x1eea57(0x15a),'ProximityPenalty':_0x1eea57(0x16b),'Time0':_0x1eea57(0x16d),'Time1':_0x1eea57(0x104),'Time2':'Time2','Time3':_0x1eea57(0x109)};if(_0x5008e3!=ITEM_CARD)_0x3e0fa1=Buildings[_0x355682],_0x38c7dc['className']=_0x1eea57(0x161)+_0x5008e3,_0x2b5a21={'BuildCost':_0x1eea57(0xf0),'Capacity':_0x1eea57(0x136),'EdgeRequirements':'Require','ProximityEmit':_0x1eea57(0xe4),'ProximityDist':_0x1eea57(0x183)};else{const _0x2d154e=document['createElement']('div');_0x2d154e[_0x1eea57(0x11b)]='card-modal',_0x2d154e['style'][_0x1eea57(0xf7)]='none',_0x38c7dc['appendChild'](_0x2d154e),_0x38c7dc['addEventListener'](_0x1eea57(0x16e),function(){const _0x43ad63=_0x1eea57;_0x2d154e[_0x43ad63(0x113)][_0x43ad63(0xf7)]=_0x43ad63(0x166);}),_0x38c7dc[_0x1eea57(0x16a)](_0x1eea57(0x11f),function(){const _0x437275=_0x1eea57;_0x2d154e[_0x437275(0x113)][_0x437275(0xf7)]=_0x437275(0xe8);});const _0x44c5bf=document[_0x1eea57(0x12a)](_0x1eea57(0x149));_0x44c5bf[_0x1eea57(0x145)]=_0x1eea57(0x112),_0x2d154e[_0x1eea57(0x150)](_0x44c5bf),_0x44c5bf[_0x1eea57(0x16a)](_0x1eea57(0xec),function(){const _0x1d8246=_0x1eea57,_0x18cddb=document['getElementById'](_0x1d8246(0x105));_0x18cddb[_0x1d8246(0x134)]=_0x355682,_0x18cddb[_0x1d8246(0x13e)](new Event(_0x1d8246(0x108)));});}const _0x53bb88=document['createElement']('h4');_0x53bb88['textContent']=_0x3e0fa1[_0x1eea57(0x143)][_0x1eea57(0x144)]('_','\x20')+'\x20'+_0x24715d,_0x38c7dc[_0x1eea57(0x150)](_0x53bb88);for(const _0x4d65ae in _0x2b5a21)if(_0x3e0fa1[_0x4d65ae]){const _0x289d77=document[_0x1eea57(0x12a)]('p');_0x289d77['textContent']=_0x2b5a21[_0x4d65ae]+':\x20'+_0x3e0fa1[_0x4d65ae],_0x38c7dc['appendChild'](_0x289d77);}let _0x359436=document['createElement']('li');if(collapsed&&!_0x4a594c)_0x359436[_0x1eea57(0x11b)]=_0x1eea57(0x177);return _0x359436[_0x1eea57(0x150)](_0x38c7dc),_0x359436;}function updateTotals(){const _0x2ccc16=a0_0x39c1e7;for(var _0x33a6cc in totalStorage){totalBuildings[_0x33a6cc]=totalStorage[_0x33a6cc];}for(var _0x33a6cc in totalBuildings){for(var _0x4b43f3 in totalBuildings[_0x33a6cc][_0x2ccc16(0x106)]){var _0x2ee82e=totalBuildings[_0x33a6cc][_0x2ccc16(0x106)][_0x4b43f3][_0x2ccc16(0x134)]*totalBuildings[_0x33a6cc][_0x2ccc16(0x15b)],_0x316112=totalBuildings[_0x33a6cc][_0x2ccc16(0x106)][_0x4b43f3][_0x2ccc16(0xf4)];if(totalConstructions[_0x316112])totalConstructions[_0x316112]+=_0x2ee82e;else totalConstructions[_0x316112]=_0x2ee82e;}}for(var _0x33a6cc in totalBuildings){totalBuildings[_0x33a6cc]=totalBuildings[_0x33a6cc][_0x2ccc16(0x15b)];}totalsContainer[_0x2ccc16(0x150)](addTotal(totalItems,_0x2ccc16(0x153))),totalsContainer[_0x2ccc16(0x150)](addTotal(totalConstructions,_0x2ccc16(0x151))),totalsContainer[_0x2ccc16(0x150)](addTotal(totalBuildings,_0x2ccc16(0x125)));}function addTotal(_0x6ae521,_0x1f42cc){const _0x282d70=a0_0x39c1e7,_0x18c11d=document[_0x282d70(0x12a)](_0x282d70(0xe6));_0x18c11d[_0x282d70(0xeb)][_0x282d70(0xfc)](_0x282d70(0x10b));const _0x524713=document[_0x282d70(0x12a)](_0x282d70(0x118));_0x524713[_0x282d70(0x145)]=_0x1f42cc,_0x18c11d[_0x282d70(0x150)](_0x524713);for(const _0x3d9d2d in _0x6ae521){const _0x4b8932=document['createElement']('p');_0x4b8932[_0x282d70(0x145)]=_0x3d9d2d[_0x282d70(0x144)]('_','\x20')+':\x20'+_0x6ae521[_0x3d9d2d],_0x18c11d[_0x282d70(0x150)](_0x4b8932);}return _0x18c11d;}function craftItemNeedsCard(_0x3d0077,_0x4d2c70,_0x961740,_0x3bebf8){const _0x343d5d=a0_0x39c1e7,_0x5bb53c=createCard(_0x3d0077[_0x343d5d(0xf4)],'('+_0x3d0077['value']+')',ITEM_CARD,_0x3bebf8);_0x4d2c70['appendChild'](_0x5bb53c);const _0x42c7d5=document['createElement']('ul');let _0x40a5eb=craftItems[_0x3d0077[_0x343d5d(0xf4)]],_0x2363c1=_0x3d0077['key']==document['getElementById'](_0x343d5d(0x105))['value'];if(_0x961740==ITEM_CARD&&!_0x2363c1){if(totalItems[_0x3d0077[_0x343d5d(0xf4)]])totalItems[_0x3d0077[_0x343d5d(0xf4)]]+=_0x3d0077[_0x343d5d(0x134)];else totalItems[_0x3d0077[_0x343d5d(0xf4)]]=_0x3d0077[_0x343d5d(0x134)];}let _0x1130a6=getBuildingWithBestCost(_0x40a5eb[_0x343d5d(0x13c)]);_0x1130a6&&_0x3d0077[_0x343d5d(0xf4)]!='Water'&&(_0x3d0077['key']!='Feed'||!cheapest)&&(totalStorage[_0x1130a6]?(totalStorage[_0x1130a6][_0x343d5d(0x180)]+=_0x3d0077['value'],totalStorage[_0x1130a6][_0x343d5d(0x15b)]=Math[_0x343d5d(0x127)](totalStorage[_0x1130a6][_0x343d5d(0x180)]/totalStorage[_0x1130a6][_0x343d5d(0x17a)])):totalStorage[_0x1130a6]={'capacity':Buildings[_0x1130a6][_0x343d5d(0x136)],'stored':_0x3d0077['value']+(_0x2363c1?0x9:0x0),'units':0x1,'needs':storageBuildings[_0x1130a6]['Needs']});if(!_0x3bebf8&&_0x3d0077['key']!='Stars'){let _0x46818b=_0x3d0077[_0x343d5d(0xf4)]=='Feed'&&cheapest,_0x10556a=_0x3d0077[_0x343d5d(0xf4)]==_0x343d5d(0x158)&&cheapest;if(!_0x46818b&&!_0x10556a)_0x40a5eb[_0x343d5d(0x103)][_0x343d5d(0xff)](_0x30d6a9=>{const _0x271de3=_0x343d5d;let _0x47dae5=[_0x271de3(0x158),_0x271de3(0x10a),_0x271de3(0xfd),_0x271de3(0x15e),_0x271de3(0x10e),_0x271de3(0x168)][_0x271de3(0xef)](_0x30d6a9[_0x271de3(0xf4)]);craftItemNeedsCard(_0x30d6a9,_0x42c7d5,_0x961740,_0x47dae5);});var _0x2f2594=getBuildingWithBestCost(_0x40a5eb[_0x343d5d(0x162)]);_0x2f2594&&(createRelatedCard(_0x2f2594,_0x42c7d5,CRAFT_CARD),addBuilding(_0x2f2594,craftBuildings));if(_0x1130a6&&_0x3d0077[_0x343d5d(0xf4)]!='Water'&&!_0x46818b&&!_0x10556a)createRelatedCard(_0x1130a6,_0x42c7d5,STORAGE_CARD);var _0x4c585d=getBuildingWithBestCost(_0x40a5eb[_0x343d5d(0x116)]);_0x4c585d&&!_0x46818b&&(createRelatedCard(_0x4c585d,_0x42c7d5,WORK_CARD),addBuilding(_0x4c585d,workerBuildings)),_0x5bb53c[_0x343d5d(0x150)](_0x42c7d5);}return _0x5bb53c;}function addBuilding(_0xbbe9ab,_0x4e9941){const _0x3d7af7=a0_0x39c1e7;totalBuildings[_0xbbe9ab]?totalBuildings[_0xbbe9ab][_0x3d7af7(0x15b)]++:totalBuildings[_0xbbe9ab]={'units':0x1,'needs':_0x4e9941[_0xbbe9ab][_0x3d7af7(0x103)]};}function getBuildingWithBestCost(_0x15fee4){const _0x94cb0a=a0_0x39c1e7;let _0x3d507d=cheapest?Infinity:-Infinity,_0x1db4db=null;for(const _0x4dbb1e of _0x15fee4){const _0x53a1e8=Buildings[_0x4dbb1e];if(_0x53a1e8['BlockChainID']!==_0x94cb0a(0x107))continue;if(cheapest&&_0x53a1e8[_0x94cb0a(0x179)]<_0x3d507d)_0x3d507d=_0x53a1e8['BuildCost'],_0x1db4db=_0x4dbb1e;else{if(!cheapest&&_0x53a1e8[_0x94cb0a(0x179)]>_0x3d507d)_0x3d507d=_0x53a1e8[_0x94cb0a(0x179)],_0x1db4db=_0x4dbb1e;else{if(_0x53a1e8[_0x94cb0a(0x179)]===_0x3d507d){if(cheapest&&_0x53a1e8[_0x94cb0a(0x13d)]<Buildings[_0x1db4db][_0x94cb0a(0x13d)])_0x1db4db=_0x4dbb1e;else{if(!cheapest&&_0x53a1e8[_0x94cb0a(0x13d)]>Buildings[_0x1db4db]['LaborCost'])_0x1db4db=_0x4dbb1e;else _0x53a1e8[_0x94cb0a(0x13d)]===Buildings[_0x1db4db][_0x94cb0a(0x13d)]&&((_0x53a1e8[_0x94cb0a(0x102)]===_0x94cb0a(0x107)||_0x53a1e8[_0x94cb0a(0x102)]==='Construction_Free')&&(_0x1db4db=_0x4dbb1e));}}}}}return _0x1db4db;}function createRelatedCard(_0x2e4b4a,_0x118433,_0x5626fb){const _0x3369ef=a0_0x39c1e7;let _0x24acf2=[];switch(_0x5626fb){case STORAGE_CARD:_0x24acf2=storageBuildings[_0x2e4b4a][_0x3369ef(0x103)];break;case CRAFT_CARD:_0x24acf2=craftBuildings[_0x2e4b4a][_0x3369ef(0x103)];break;case WORK_CARD:_0x24acf2=workerBuildings[_0x2e4b4a]['Needs'];break;default:console[_0x3369ef(0x14c)](_0x3369ef(0x155));return;}const _0x1d485a=createCard(_0x2e4b4a,'',_0x5626fb,_0x24acf2[_0x3369ef(0x163)]<0x1);_0x118433[_0x3369ef(0x150)](_0x1d485a);if(_0x24acf2[_0x3369ef(0x163)]>0x0){const _0x565dca=document['createElement']('ul');_0x1d485a[_0x3369ef(0x150)](_0x565dca),_0x24acf2[_0x3369ef(0xff)](_0x208c3d=>{const _0x428efd=_0x3369ef;let _0x4f1c96=[_0x428efd(0x158),_0x428efd(0x10a),'Wood',_0x428efd(0x15e),_0x428efd(0x10e),'Stars'][_0x428efd(0xef)](_0x208c3d[_0x428efd(0xf4)]);craftItemNeedsCard(_0x208c3d,_0x565dca,_0x5626fb,_0x4f1c96);});}}