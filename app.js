const a0_0x40abf5=a0_0x5db8;(function(_0x2734d9,_0x49fbe9){const _0x143821=a0_0x5db8,_0x37270c=_0x2734d9();while(!![]){try{const _0x18e269=parseInt(_0x143821(0x13b))/0x1*(parseInt(_0x143821(0x156))/0x2)+parseInt(_0x143821(0x183))/0x3*(parseInt(_0x143821(0x13a))/0x4)+-parseInt(_0x143821(0x13f))/0x5+parseInt(_0x143821(0x13e))/0x6+-parseInt(_0x143821(0x17a))/0x7*(-parseInt(_0x143821(0x18a))/0x8)+parseInt(_0x143821(0x111))/0x9+-parseInt(_0x143821(0x164))/0xa;if(_0x18e269===_0x49fbe9)break;else _0x37270c['push'](_0x37270c['shift']());}catch(_0x529bea){_0x37270c['push'](_0x37270c['shift']());}}}(a0_0x5932,0x59a2d));let totalItems={},totalBuildings={},totalConstructions={},totalStorage=[],cheapest=!![],collapsed=!![],craftItems=[],craftBuildings=[],workerBuildings=[],storageBuildings=[];const ITEM_CARD='item',CRAFT_CARD=a0_0x40abf5(0x155),STORAGE_CARD=a0_0x40abf5(0x10f),WORK_CARD=a0_0x40abf5(0x11d);let scale=0x1,translationX=0x0,translationY=0x0,isMouseDown=![];const treeContainer=document['querySelector'](a0_0x40abf5(0x148)),treeContent=document[a0_0x40abf5(0x1a7)](a0_0x40abf5(0x135)),totalsContainer=document['getElementById'](a0_0x40abf5(0x11c));class Item{constructor(_0x1e7ccd,_0x15e303,_0x2a40de,_0x579808,_0xe1511f,_0x13e3a4,_0x245838,_0x26c7d1,_0x6a1bd4,_0x1aba71,_0x1d435d,_0x3e4a8c,_0x4831ea){const _0x34ff68=a0_0x40abf5;this[_0x34ff68(0x108)]=_0x1e7ccd,this[_0x34ff68(0x127)]=_0x15e303,this[_0x34ff68(0x10c)]=_0x2a40de,this[_0x34ff68(0x159)]=_0x579808,this[_0x34ff68(0x160)]=_0xe1511f,this[_0x34ff68(0x174)]=_0x13e3a4,this[_0x34ff68(0x1a1)]=_0x245838,this[_0x34ff68(0x16e)]=_0x26c7d1,this[_0x34ff68(0x113)]=_0x6a1bd4,this[_0x34ff68(0x10e)]=_0x1aba71,this[_0x34ff68(0x17d)]=_0x1d435d,this[_0x34ff68(0x17b)]=_0x3e4a8c,this[_0x34ff68(0x198)]=_0x4831ea;}}class WorkerBuilding{constructor(_0x5761ab,_0xdba3a2,_0xac6359,_0x12e17d,_0x332821,_0x22c528,_0x52b8ca){const _0x5b2f9c=a0_0x40abf5;this[_0x5b2f9c(0x108)]=_0x5761ab,this[_0x5b2f9c(0x14d)]=_0xdba3a2,this['LaborCost']=_0xac6359,this[_0x5b2f9c(0x11b)]=_0x12e17d,this[_0x5b2f9c(0x10e)]=_0x332821,this[_0x5b2f9c(0x19c)]=_0x22c528,this['StorageBuilding']=_0x52b8ca;}}class CraftBuilding{constructor(_0x59f85e,_0x239f25,_0x4e4daf,_0x1621a0,_0x149014,_0x236d7d,_0x514118,_0x173b35,_0x39a013){const _0x2631f3=a0_0x40abf5;this[_0x2631f3(0x108)]=_0x59f85e,this['BuildCost']=_0x239f25,this[_0x2631f3(0x128)]=_0x4e4daf,this[_0x2631f3(0x11b)]=_0x1621a0,this[_0x2631f3(0x151)]=_0x149014,this[_0x2631f3(0x103)]=_0x236d7d,this['Needs']=_0x514118,this['Crafts']=_0x173b35,this['Workers']=_0x39a013;}}class StorageBuilding{constructor(_0x382c1,_0x3ed32d,_0x1b96d8,_0x40d8e8,_0xe8e3fa,_0x4640f7,_0x2bc9d5,_0x36cac8,_0x4b4156){const _0x29d7fb=a0_0x40abf5;this[_0x29d7fb(0x108)]=_0x382c1,this[_0x29d7fb(0x14d)]=_0x3ed32d,this[_0x29d7fb(0x191)]=_0x1b96d8,this[_0x29d7fb(0x11b)]=_0x40d8e8,this['Emit']=_0xe8e3fa,this[_0x29d7fb(0x103)]=_0x4640f7,this[_0x29d7fb(0x194)]=_0x2bc9d5,this['Needs']=_0x36cac8,this[_0x29d7fb(0x198)]=_0x4b4156;}}function createCollections(){const _0x101026=a0_0x40abf5;for(const _0x4c6da1 in Buildings){const _0x29d795=Buildings[_0x4c6da1];if(_0x29d795[_0x101026(0x149)]===_0x101026(0x138)){if(_0x29d795[_0x101026(0x191)]===0x0&&_0x29d795[_0x101026(0x147)]==='None'&&_0x29d795[_0x101026(0x128)]>0x0){const _0x47db1a=Array[_0x101026(0x106)](new Set(_0x29d795[_0x101026(0x153)][_0x101026(0x120)](/[()]/g,'')[_0x101026(0x1a3)](',')));workerBuildings[_0x4c6da1]=new WorkerBuilding(_0x29d795[_0x101026(0x108)],_0x29d795[_0x101026(0x14d)],_0x29d795[_0x101026(0x128)],_0x29d795[_0x101026(0x189)],[],_0x47db1a[_0x101026(0x157)](_0x2c2886=>isNotSpecial(_0x2c2886)&&_0x2c2886!==_0x101026(0x138)),[]);}else{if(_0x29d795['Crafts']!=='None')craftBuildings[_0x4c6da1]=new CraftBuilding(_0x29d795['Name'],_0x29d795[_0x101026(0x14d)],_0x29d795[_0x101026(0x128)],_0x29d795['EdgeRequirements'],_0x29d795['ProximityEmit'],_0x29d795[_0x101026(0x161)],[],_0x29d795[_0x101026(0x147)][_0x101026(0x1a3)](','),[]);else _0x29d795['Crafts']===_0x101026(0x138)&&_0x29d795[_0x101026(0x191)]!==0x0&&(storageBuildings[_0x4c6da1]=new StorageBuilding(_0x29d795[_0x101026(0x108)],_0x29d795[_0x101026(0x14d)],_0x29d795[_0x101026(0x191)],_0x29d795['EdgeRequirements'],_0x29d795[_0x101026(0x11e)],_0x29d795['ProximityDist'],_0x29d795[_0x101026(0x194)][_0x101026(0x1a3)](','),[],[]));}}}}function populateBuilding(_0x1abf81,_0x1a2eb0){const _0xedf6b8=a0_0x40abf5;if(Buildings[_0x1a2eb0][_0xedf6b8(0x190)]!==_0xedf6b8(0x163)&&Buildings[_0x1a2eb0][_0xedf6b8(0x190)]!=='None'){const _0x591ec1=Constructions[Buildings[_0x1a2eb0]['Construction']],_0x37702d=[{'key':_0x591ec1[_0xedf6b8(0x1a6)],'value':_0x591ec1[_0xedf6b8(0x195)]},{'key':_0x591ec1[_0xedf6b8(0x133)],'value':_0x591ec1[_0xedf6b8(0x154)]},{'key':_0x591ec1[_0xedf6b8(0x146)],'value':_0x591ec1[_0xedf6b8(0x18b)]}],_0x244e68=_0x37702d[_0xedf6b8(0x157)](_0x1b1571=>_0x1b1571[_0xedf6b8(0x10b)]!==_0xedf6b8(0x19f)&&_0x1b1571[_0xedf6b8(0x10d)]>0x0);_0x1abf81[_0xedf6b8(0x10e)]=_0x244e68[_0xedf6b8(0x168)](_0xe72e80=>_0xe72e80);}if(_0x1abf81 instanceof CraftBuilding)_0x1abf81[_0xedf6b8(0x198)]=Object[_0xedf6b8(0x15f)](workerBuildings)['filter'](_0xd38a7b=>_0xd38a7b['CraftBuilding']['includes'](_0x1abf81[_0xedf6b8(0x108)]))[_0xedf6b8(0x168)](_0x41ff62=>_0x41ff62['Name']);else _0x1abf81 instanceof StorageBuilding&&(_0x1abf81[_0xedf6b8(0x198)]=Object[_0xedf6b8(0x15f)](workerBuildings)[_0xedf6b8(0x157)](_0x5af480=>_0x5af480[_0xedf6b8(0x143)][_0xedf6b8(0x15b)](_0x1abf81['Name']))['map'](_0xa72f1b=>_0xa72f1b[_0xedf6b8(0x108)]));}function populateCollection(){for(const _0x2dc31e in workerBuildings){populateBuilding(workerBuildings[_0x2dc31e],_0x2dc31e);}for(const _0x10f027 in craftBuildings){populateBuilding(craftBuildings[_0x10f027],_0x10f027);}for(const _0x48c01a in storageBuildings){populateBuilding(storageBuildings[_0x48c01a],_0x48c01a);}}function createCraftItems(){const _0x4e8992=a0_0x40abf5;for(const _0x28d973 in Items){const _0x5348f6=Items[_0x28d973],_0x1c1483=[],_0x51dd2c=[];for(const _0x56be8e in craftBuildings){const _0xae7058=craftBuildings[_0x56be8e];_0xae7058[_0x4e8992(0x147)]&&_0xae7058['Crafts'][_0x4e8992(0x15b)](_0x5348f6[_0x4e8992(0x108)])&&(_0x51dd2c['push'](_0xae7058[_0x4e8992(0x108)]),_0x1c1483[_0x4e8992(0x14e)](..._0xae7058[_0x4e8992(0x198)]));}const _0x29d11b=[];for(const _0x1dd10e in storageBuildings){const _0x2c8d3b=storageBuildings[_0x1dd10e];_0x2c8d3b['StorageType']&&_0x2c8d3b[_0x4e8992(0x194)]['includes'](_0x5348f6[_0x4e8992(0x16c)])&&_0x29d11b[_0x4e8992(0x14e)](_0x2c8d3b[_0x4e8992(0x108)]);}const _0x461a77=[{'key':_0x5348f6[_0x4e8992(0x1a6)],'value':_0x5348f6[_0x4e8992(0x195)]},{'key':_0x5348f6[_0x4e8992(0x133)],'value':_0x5348f6[_0x4e8992(0x154)]},{'key':_0x5348f6[_0x4e8992(0x146)],'value':_0x5348f6[_0x4e8992(0x18b)]}],_0x48e4ab=_0x461a77[_0x4e8992(0x157)](_0x748021=>_0x748021['key']!==_0x4e8992(0x19f)&&_0x748021[_0x4e8992(0x10d)]>0x0);craftItems[_0x28d973]=new Item(_0x5348f6['Name'],_0x5348f6[_0x4e8992(0x109)],_0x5348f6['CityPrice'],_0x5348f6['ProximityBonus'],_0x5348f6[_0x4e8992(0x123)],_0x5348f6[_0x4e8992(0x174)],_0x5348f6[_0x4e8992(0x1a1)],_0x5348f6[_0x4e8992(0x16e)],_0x5348f6[_0x4e8992(0x113)],[..._0x48e4ab[_0x4e8992(0x168)](_0x200bb1=>_0x200bb1)],_0x51dd2c,_0x29d11b,[...new Set(_0x1c1483)]);}return craftItems;}function adjustItems(){const _0x4ce506=a0_0x40abf5;let _0x404d8d=craftItems[_0x4ce506(0x170)];_0x404d8d[_0x4ce506(0x17b)]=[],_0x404d8d[_0x4ce506(0x17d)]=[];for(const _0x414a82 in craftBuildings){const _0x443230=craftBuildings[_0x414a82];if(_0x443230[_0x4ce506(0x151)]&&_0x443230[_0x4ce506(0x151)]['includes'](_0x404d8d[_0x4ce506(0x108)]))_0x404d8d[_0x4ce506(0x17d)][_0x4ce506(0x14e)](_0x443230[_0x4ce506(0x108)]);}}createCollections(),populateCollection(),createCraftItems(),adjustItems(),document[a0_0x40abf5(0x12c)](a0_0x40abf5(0x131),function(){const _0x5b0bce=a0_0x40abf5;loadItems(),setupItemSelect(),document[_0x5b0bce(0x16d)](_0x5b0bce(0x13d))[_0x5b0bce(0x12c)]('change',function(_0x3f14d9){const _0x1e5ca5=_0x5b0bce;cheapest=_0x3f14d9['target'][_0x1e5ca5(0x10d)]===_0x1e5ca5(0x132);const _0x27abdc=document['getElementById'](_0x1e5ca5(0x137));_0x27abdc[_0x1e5ca5(0x119)](new Event(_0x1e5ca5(0x126)));}),document[_0x5b0bce(0x16d)](_0x5b0bce(0x173))['addEventListener'](_0x5b0bce(0x126),function(_0x4c7e64){const _0x8c540f=_0x5b0bce;collapsed=_0x4c7e64[_0x8c540f(0x18f)]['value']==='collapsed';const _0x328e00=document['getElementById'](_0x8c540f(0x137));_0x328e00[_0x8c540f(0x119)](new Event(_0x8c540f(0x126)));});const _0x59f141=document['getElementById'](_0x5b0bce(0x114));_0x59f141[_0x5b0bce(0x12c)]('click',function(){scale=0x1,translationX=0x0,translationY=0x0,applyTransform();}),document[_0x5b0bce(0x16d)](_0x5b0bce(0x15d))['addEventListener'](_0x5b0bce(0x136),_0x375fe4);function _0x375fe4(){const _0x449bd2=_0x5b0bce;scale=0x1,translationX=0x0,translationY=0x0;const _0x3e99c1=treeContainer['getBoundingClientRect'](),_0x5525fe=treeContent[_0x449bd2(0x11f)](),_0x38f5b1=_0x3e99c1[_0x449bd2(0x12f)]/_0x5525fe[_0x449bd2(0x12f)],_0x514ec4=_0x3e99c1['height']/_0x5525fe[_0x449bd2(0x181)],_0x1d7b95=Math[_0x449bd2(0x199)](_0x38f5b1,_0x514ec4),_0x3ef8cc=(_0x3e99c1['width']-_0x1d7b95*_0x5525fe[_0x449bd2(0x12f)])/0x2,_0x3e2151=(_0x3e99c1[_0x449bd2(0x181)]-_0x1d7b95*_0x5525fe['height'])/0x2;scale=_0x1d7b95,translationX=_0x3ef8cc,translationY=_0x3e2151,applyTransform();}treeContainer[_0x5b0bce(0x12c)](_0x5b0bce(0x169),_0x52cadc=>{const _0x223a7c=_0x5b0bce;_0x52cadc[_0x223a7c(0x180)]();const _0x115f63=0.003,_0x5d292f=0.4,_0x5c9bf8=0x1;let _0x5f3945=scale+_0x52cadc['deltaY']*-_0x115f63;_0x5f3945=Math[_0x223a7c(0x199)](Math[_0x223a7c(0x162)](_0x5f3945,_0x5d292f),_0x5c9bf8);const _0x46dcab=treeContent[_0x223a7c(0x11f)](),_0x3b9e46=_0x52cadc[_0x223a7c(0x17e)]-_0x46dcab[_0x223a7c(0x176)],_0x3abda8=_0x52cadc['clientY']-_0x46dcab['top'];let _0x1115bd=translationX+_0x3b9e46*(0x1-_0x5f3945/scale),_0x5155ad=translationY+_0x3abda8*(0x1-_0x5f3945/scale);const _0x289aaa=treeContainer['getBoundingClientRect'](),_0x5d53ee=treeContent['getBoundingClientRect'](),_0x53d628=_0x289aaa[_0x223a7c(0x12f)]-_0x5f3945*_0x5d53ee[_0x223a7c(0x12f)],_0x324f3e=_0x289aaa[_0x223a7c(0x181)]-_0x5f3945*_0x5d53ee[_0x223a7c(0x181)];_0x1115bd=Math[_0x223a7c(0x199)](Math[_0x223a7c(0x162)](_0x1115bd,_0x53d628),0x0),_0x5155ad=Math['min'](Math[_0x223a7c(0x162)](_0x5155ad,_0x324f3e),0x0),scale=_0x5f3945,translationX=_0x1115bd,translationY=_0x5155ad,applyTransform();}),treeContainer[_0x5b0bce(0x12c)](_0x5b0bce(0x145),startDrag),treeContainer['addEventListener'](_0x5b0bce(0x1a2),drag),treeContainer[_0x5b0bce(0x12c)](_0x5b0bce(0x12a),endDrag),treeContainer[_0x5b0bce(0x12c)]('mouseleave',endDrag),treeContainer[_0x5b0bce(0x12c)](_0x5b0bce(0x105),startDrag),treeContainer[_0x5b0bce(0x12c)]('touchmove',drag),treeContainer[_0x5b0bce(0x12c)](_0x5b0bce(0x12b),endDrag),treeContainer[_0x5b0bce(0x12c)](_0x5b0bce(0x121),endDrag),checkScreenSize(),window[_0x5b0bce(0x12c)]('resize',checkScreenSize);});function startDrag(_0x516943){const _0x902fad=a0_0x40abf5;isMouseDown=!![],startX=_0x516943[_0x902fad(0x17e)]||_0x516943['touches'][0x0][_0x902fad(0x17e)],startY=_0x516943[_0x902fad(0x18d)]||_0x516943[_0x902fad(0x134)][0x0][_0x902fad(0x18d)],previousX=startX,previousY=startY,treeContainer[_0x902fad(0x102)][_0x902fad(0x14b)](_0x902fad(0x193)),treeContainer[_0x902fad(0x102)]['add'](_0x902fad(0x188)),initialTranslationX=translationX;}function drag(_0x2e5091){const _0x79a9a7=a0_0x40abf5;if(!isMouseDown)return;_0x2e5091['preventDefault']();const _0x5dc5e8=_0x2e5091[_0x79a9a7(0x17e)]||_0x2e5091['touches'][0x0]['clientX'],_0x3aa20f=_0x2e5091[_0x79a9a7(0x18d)]||_0x2e5091[_0x79a9a7(0x134)][0x0][_0x79a9a7(0x18d)],_0x99b34c=_0x5dc5e8-startX;translationX=initialTranslationX+_0x99b34c,applyTransform(),window[_0x79a9a7(0x13c)](0x0,previousY-_0x3aa20f),previousX=_0x5dc5e8,previousY=_0x3aa20f;}function endDrag(_0x5e4ca2){const _0x27b83c=a0_0x40abf5;isMouseDown=![],previousX=_0x5e4ca2['clientX']||_0x5e4ca2['changedTouches']&&_0x5e4ca2['changedTouches'][0x0][_0x27b83c(0x17e)]||previousX,previousY=_0x5e4ca2[_0x27b83c(0x18d)]||_0x5e4ca2['changedTouches']&&_0x5e4ca2[_0x27b83c(0x124)][0x0][_0x27b83c(0x18d)]||previousY,treeContainer['classList'][_0x27b83c(0x14b)](_0x27b83c(0x188)),treeContainer['classList'][_0x27b83c(0x15c)](_0x27b83c(0x193));}function getCraftNeeds(_0x52932d){const _0x373822=a0_0x40abf5,_0x14b3b0=craftItems[_0x52932d],_0x5ecc00=new Map();function _0x81723f(_0x3c6f08,_0x5a3f7d){const _0x3d6723=a0_0x5db8;if(_0x3c6f08[_0x3d6723(0x10a)]>0x0)for(const _0x55423c of _0x3c6f08){const {key:_0x1206a9,value:_0x3c59eb}=_0x55423c;!_0x5ecc00[_0x1206a9]&&(_0x5ecc00[_0x1206a9]=0x0);_0x5ecc00[_0x1206a9]=_0x5ecc00[_0x1206a9]+_0x3c59eb*_0x5a3f7d;if(_0x1206a9!=_0x3d6723(0x117)&&_0x1206a9!=_0x3d6723(0x129)&&_0x1206a9!='Water')_0x81723f(craftItems[_0x1206a9][_0x3d6723(0x10e)],_0x3c59eb*_0x5a3f7d);}}return _0x81723f(_0x14b3b0[_0x373822(0x10e)],0x1),_0x5ecc00;}function isNotSpecial(_0x3594f1){const _0x50ea84=a0_0x40abf5,_0x3f494d=[_0x50ea84(0x16a),_0x50ea84(0x141),'Rare_',_0x50ea84(0x15e),_0x50ea84(0x165),_0x50ea84(0x166),_0x50ea84(0x17f),_0x50ea84(0x14f),_0x50ea84(0x15a),_0x50ea84(0x144),_0x50ea84(0x115),_0x50ea84(0x1a0),_0x50ea84(0x158)];return _0x3f494d[_0x50ea84(0x17c)](_0x4ca50f=>!_0x3594f1[_0x50ea84(0x118)](_0x4ca50f));}function loadItems(){const _0x5e6342=a0_0x40abf5,_0x3af3ad=document[_0x5e6342(0x16d)](_0x5e6342(0x137));for(const _0x1c6055 in craftItems){const _0x428764=document[_0x5e6342(0x1a5)](_0x5e6342(0x150));_0x428764[_0x5e6342(0x10d)]=_0x1c6055,_0x428764[_0x5e6342(0x152)]=craftItems[_0x1c6055][_0x5e6342(0x108)],_0x3af3ad[_0x5e6342(0x185)](_0x428764);}}function setupItemSelect(){const _0x4c008c=a0_0x40abf5,_0x5a743c=document[_0x4c008c(0x16d)]('itemSelect');_0x5a743c[_0x4c008c(0x12c)](_0x4c008c(0x126),function(){const _0x26cde6=_0x4c008c;clearCardsContainer(),clearTotalsContainer(),totalStorage=[],totalBuildings=[],totalConstructions=[];const _0x2aba9c=this[_0x26cde6(0x10d)];if(_0x2aba9c){var _0x2544f5=document[_0x26cde6(0x1a7)](_0x26cde6(0x135));craftItemNeedsCard({'key':_0x2aba9c,'value':0x1},_0x2544f5,ITEM_CARD),updateTotals(),centralizeContent();}});}function centralizeContent(){const _0x3e724b=a0_0x40abf5,_0x4cf58b=treeContainer['getBoundingClientRect'](),_0x24adb7=treeContent[_0x3e724b(0x11f)]();translationX=(_0x4cf58b[_0x3e724b(0x12f)]-_0x24adb7[_0x3e724b(0x12f)])/0x2,translationY=(_0x4cf58b[_0x3e724b(0x181)]-_0x24adb7[_0x3e724b(0x181)])/0x2,applyTransform();}function clearCardsContainer(){const _0x430ce1=a0_0x40abf5,_0x208c9a=document[_0x430ce1(0x1a7)](_0x430ce1(0x112));;while(_0x208c9a[_0x430ce1(0x116)])_0x208c9a[_0x430ce1(0x19b)](_0x208c9a[_0x430ce1(0x116)]);scale=0x1,translationX=0x0,translationY=0x0,applyTransform();}function clearTotalsContainer(){const _0x5233c2=a0_0x40abf5,_0x7f7ca4=document[_0x5233c2(0x16d)]('totalsContainer');while(_0x7f7ca4['firstChild'])_0x7f7ca4[_0x5233c2(0x19b)](_0x7f7ca4[_0x5233c2(0x116)]);totalItems={},totalConstructions={};}function a0_0x5932(){const _0x5d10a1=['values','Penalty','ProximityDist','max','Construction_Free','12897000WGoBTS','Epic_','Ancient_','Choose','map','wheel','Common_','Construction\x20Needs','Class','getElementById','Time2','parentElement','Cold','mouseover','units','view-select','Time0','Buildings','left','stored','ceil','capacity','103698YicsSf','StoredIn','every','CraftedIn','clientX','Big_','preventDefault','height','needs','47583dACWiB','parentNode','appendChild','EmitD','style','grabbing','EdgeRequirements','392PFrYNI','Value3','row','clientY','totals-div','target','Construction','Capacity','className','grab','StorageType','Value1','matchMedia','Wood','Workers','min','translate(','removeChild','CraftBuilding','Oak_Wood','matches','none','Natural_','Time1','mousemove','split','block','createElement','Req1','querySelector','mouseout','classList','Dist','Water','touchstart','from','tf-collapsed','Name','CityPoints','length','key','Gain','value','Needs','storage','button','5320899BKLeUd','.tf-tree\x20ul','Time3','reset-zoom','Tesla_','firstChild','Energy','startsWith','dispatchEvent','Craft\x20Needs','Require','totalsContainer','work','ProximityEmit','getBoundingClientRect','replace','touchcancel','tf-nc\x20building\x20','ProximityPenalty','changedTouches','transform','change','Stars','LaborCost','Feed','mouseup','touchend','addEventListener','toggle','summary','width','forEach','DOMContentLoaded','cheapest','Req2','touches','.tf-tree-content','click','itemSelect','None','Invalid\x20card\x20type\x20provided!','20TOrOUT','96PxHpjg','scrollBy','strategy-select','1237554NLBluO','1848260Ptkxek','display','Uncommon_','px)\x20scale(','StorageBuilding','Great_','mousedown','Req3','Crafts','.tf-tree','BlockChainID','tf-nc\x20item','remove','Cost','BuildCost','push','Diamond_','option','Emit','textContent','OutputPickup','Value2','craft','8830aazisv','filter','Ground_','Bonus','Luxury_','includes','add','fitContentButton','Legendary_'];a0_0x5932=function(){return _0x5d10a1;};return a0_0x5932();}function applyTransform(){const _0x1e19f0=a0_0x40abf5,_0x482ee8=document[_0x1e19f0(0x1a7)](_0x1e19f0(0x135));_0x482ee8[_0x1e19f0(0x187)][_0x1e19f0(0x125)]=_0x1e19f0(0x19a)+translationX+'px,\x20'+translationY+_0x1e19f0(0x142)+scale+')';}function createCard(_0x2a36ee,_0x5b4637,_0x4f66b8,_0x4f5ad9){const _0xf1c21d=a0_0x40abf5;let _0x24ea46=Items[_0x2a36ee];const _0x414165=document['createElement']('div');_0x414165[_0xf1c21d(0x192)]=_0xf1c21d(0x14a),_0x414165[_0xf1c21d(0x12c)]('click',function(){const _0x437ce3=_0xf1c21d;this[_0x437ce3(0x16f)][_0x437ce3(0x102)][_0x437ce3(0x12d)]('tf-collapsed'),centralizeContent();});let _0x2b710f={'CityPoints':_0xf1c21d(0x127),'CityPrice':'Gain','ProximityBonus':_0xf1c21d(0x159),'ProximityPenalty':'Penalty','Time0':_0xf1c21d(0x174),'Time1':'Time1','Time2':_0xf1c21d(0x16e),'Time3':_0xf1c21d(0x113)};if(_0x4f66b8!=ITEM_CARD)_0x24ea46=Buildings[_0x2a36ee],_0x414165['className']=_0xf1c21d(0x122)+_0x4f66b8,_0x2b710f={'BuildCost':_0xf1c21d(0x14c),'Capacity':_0xf1c21d(0x191),'EdgeRequirements':_0xf1c21d(0x11b),'ProximityEmit':'Emit','ProximityDist':_0xf1c21d(0x186)};else{const _0x84c7f2=document[_0xf1c21d(0x1a5)]('div');_0x84c7f2[_0xf1c21d(0x192)]='card-modal',_0x84c7f2[_0xf1c21d(0x187)][_0xf1c21d(0x140)]=_0xf1c21d(0x19f),_0x414165[_0xf1c21d(0x185)](_0x84c7f2),_0x414165[_0xf1c21d(0x12c)](_0xf1c21d(0x171),function(){const _0x59b32f=_0xf1c21d;_0x84c7f2[_0x59b32f(0x187)][_0x59b32f(0x140)]=_0x59b32f(0x1a4);}),_0x414165[_0xf1c21d(0x12c)](_0xf1c21d(0x1a8),function(){const _0xee3a5c=_0xf1c21d;_0x84c7f2['style']['display']=_0xee3a5c(0x19f);});const _0x1e5eff=document[_0xf1c21d(0x1a5)](_0xf1c21d(0x110));_0x1e5eff[_0xf1c21d(0x152)]=_0xf1c21d(0x167),_0x84c7f2['appendChild'](_0x1e5eff),_0x1e5eff[_0xf1c21d(0x12c)](_0xf1c21d(0x136),function(){const _0x12e371=_0xf1c21d,_0x34b95d=document[_0x12e371(0x16d)]('itemSelect');_0x34b95d['value']=_0x2a36ee,_0x34b95d[_0x12e371(0x119)](new Event(_0x12e371(0x126)));});}const _0x53af52=document['createElement']('h4');_0x53af52[_0xf1c21d(0x152)]=_0x24ea46[_0xf1c21d(0x108)][_0xf1c21d(0x120)]('_','\x20')+'\x20'+_0x5b4637,_0x414165[_0xf1c21d(0x185)](_0x53af52);for(const _0x21c4c7 in _0x2b710f)if(_0x24ea46[_0x21c4c7]){const _0xe1fd7a=document['createElement']('p');_0xe1fd7a[_0xf1c21d(0x152)]=_0x2b710f[_0x21c4c7]+':\x20'+_0x24ea46[_0x21c4c7],_0x414165[_0xf1c21d(0x185)](_0xe1fd7a);}let _0xb5861=document['createElement']('li');if(collapsed&&!_0x4f5ad9)_0xb5861[_0xf1c21d(0x192)]=_0xf1c21d(0x107);return _0xb5861[_0xf1c21d(0x185)](_0x414165),_0xb5861;}function updateTotals(){const _0x3ec140=a0_0x40abf5;for(var _0x4ca167 in totalStorage){totalBuildings[_0x4ca167]=totalStorage[_0x4ca167];}for(var _0x4ca167 in totalBuildings){for(var _0x4fed5a in totalBuildings[_0x4ca167][_0x3ec140(0x182)]){var _0xeed9a1=totalBuildings[_0x4ca167][_0x3ec140(0x182)][_0x4fed5a]['value']*totalBuildings[_0x4ca167]['units'],_0x388cc0=totalBuildings[_0x4ca167][_0x3ec140(0x182)][_0x4fed5a][_0x3ec140(0x10b)];if(totalConstructions[_0x388cc0])totalConstructions[_0x388cc0]+=_0xeed9a1;else totalConstructions[_0x388cc0]=_0xeed9a1;}}for(var _0x4ca167 in totalBuildings){totalBuildings[_0x4ca167]=totalBuildings[_0x4ca167][_0x3ec140(0x172)];}var _0x531372=getCraftNeeds(document['getElementById']('itemSelect')[_0x3ec140(0x10d)]);totalsContainer[_0x3ec140(0x185)](addTotal(_0x531372,_0x3ec140(0x11a))),totalsContainer[_0x3ec140(0x185)](addTotal(totalConstructions,_0x3ec140(0x16b))),totalsContainer['appendChild'](addTotal(totalBuildings,_0x3ec140(0x175)));}function addTotal(_0x4ffcb2,_0x29d176){const _0x2ebb99=a0_0x40abf5,_0x56ee0c=document[_0x2ebb99(0x1a5)]('details');_0x56ee0c[_0x2ebb99(0x102)][_0x2ebb99(0x15c)](_0x2ebb99(0x18e));const _0x1cf6b6=document['createElement'](_0x2ebb99(0x12e));_0x1cf6b6[_0x2ebb99(0x152)]=_0x29d176,_0x56ee0c[_0x2ebb99(0x185)](_0x1cf6b6);for(const _0x445fb3 in _0x4ffcb2){const _0x5d4da5=document[_0x2ebb99(0x1a5)]('p');_0x5d4da5[_0x2ebb99(0x152)]=_0x445fb3['replace']('_','\x20')+':\x20'+_0x4ffcb2[_0x445fb3],_0x56ee0c[_0x2ebb99(0x185)](_0x5d4da5);}return _0x56ee0c;}function craftItemNeedsCard(_0x402157,_0x3c0cd0,_0xc9ea00,_0x22b7bf){const _0x345e20=a0_0x40abf5,_0x2deeae=createCard(_0x402157[_0x345e20(0x10b)],'('+_0x402157[_0x345e20(0x10d)]+')',ITEM_CARD,_0x22b7bf);_0x3c0cd0['appendChild'](_0x2deeae);const _0x160338=document['createElement']('ul');let _0x2e57c8=craftItems[_0x402157[_0x345e20(0x10b)]],_0x5c3b1c=_0x402157[_0x345e20(0x10b)]==document['getElementById'](_0x345e20(0x137))[_0x345e20(0x10d)];if(_0xc9ea00==ITEM_CARD&&!_0x5c3b1c){if(totalItems[_0x402157['key']])totalItems[_0x402157[_0x345e20(0x10b)]]+=_0x402157[_0x345e20(0x10d)];else totalItems[_0x402157[_0x345e20(0x10b)]]=_0x402157[_0x345e20(0x10d)];}let _0x116a5c=getBuildingWithBestCost(_0x2e57c8[_0x345e20(0x17b)]);_0x116a5c&&_0x402157[_0x345e20(0x10b)]!=_0x345e20(0x104)&&(_0x402157[_0x345e20(0x10b)]!=_0x345e20(0x129)||!cheapest)&&(totalStorage[_0x116a5c]?(totalStorage[_0x116a5c]['stored']+=_0x402157[_0x345e20(0x10d)],totalStorage[_0x116a5c]['units']=Math[_0x345e20(0x178)](totalStorage[_0x116a5c][_0x345e20(0x177)]/totalStorage[_0x116a5c][_0x345e20(0x179)])):totalStorage[_0x116a5c]={'capacity':Buildings[_0x116a5c][_0x345e20(0x191)],'stored':_0x402157['value']+(_0x5c3b1c?0x9:0x0),'units':0x1,'needs':storageBuildings[_0x116a5c][_0x345e20(0x10e)]});if(!_0x22b7bf&&_0x402157['key']!='Stars'){let _0x3d23b0=_0x402157['key']==_0x345e20(0x129)&&cheapest,_0x2d1dcc=_0x402157[_0x345e20(0x10b)]==_0x345e20(0x117)&&cheapest;if(!_0x3d23b0&&!_0x2d1dcc)_0x2e57c8['Needs'][_0x345e20(0x130)](_0x2aefa8=>{const _0xb156e8=_0x345e20;let _0x22445e=[_0xb156e8(0x117),_0xb156e8(0x129),_0xb156e8(0x197),_0xb156e8(0x104),_0xb156e8(0x19d),'Stars']['includes'](_0x2aefa8[_0xb156e8(0x10b)]);craftItemNeedsCard(_0x2aefa8,_0x160338,_0xc9ea00,_0x22445e);});var _0x5738e2=getBuildingWithBestCost(_0x2e57c8[_0x345e20(0x17d)]);_0x5738e2&&(createRelatedCard(_0x5738e2,_0x160338,CRAFT_CARD),addBuilding(_0x5738e2,craftBuildings));if(_0x116a5c&&_0x402157['key']!=_0x345e20(0x104)&&!_0x3d23b0&&!_0x2d1dcc)createRelatedCard(_0x116a5c,_0x160338,STORAGE_CARD);var _0x55b457=getBuildingWithBestCost(_0x2e57c8[_0x345e20(0x198)]);_0x55b457&&!_0x3d23b0&&(createRelatedCard(_0x55b457,_0x160338,WORK_CARD),addBuilding(_0x55b457,workerBuildings)),_0x2deeae[_0x345e20(0x185)](_0x160338);}return _0x2deeae;}function addBuilding(_0x3316f2,_0x52fef8){const _0x20b888=a0_0x40abf5;totalBuildings[_0x3316f2]?totalBuildings[_0x3316f2][_0x20b888(0x172)]++:totalBuildings[_0x3316f2]={'units':0x1,'needs':_0x52fef8[_0x3316f2][_0x20b888(0x10e)]};}function a0_0x5db8(_0x2faf9d,_0x114b4f){const _0x5932f4=a0_0x5932();return a0_0x5db8=function(_0x5db87e,_0x442135){_0x5db87e=_0x5db87e-0x102;let _0x13cfaf=_0x5932f4[_0x5db87e];return _0x13cfaf;},a0_0x5db8(_0x2faf9d,_0x114b4f);}function getBuildingWithBestCost(_0x5d966d){const _0x4785f5=a0_0x40abf5;let _0x4d7aa7=cheapest?Infinity:-Infinity,_0x24ad45=null;for(const _0x15f9ee of _0x5d966d){const _0x3116f5=Buildings[_0x15f9ee];if(_0x3116f5[_0x4785f5(0x149)]!==_0x4785f5(0x138))continue;if(cheapest&&_0x3116f5[_0x4785f5(0x14d)]<_0x4d7aa7)_0x4d7aa7=_0x3116f5[_0x4785f5(0x14d)],_0x24ad45=_0x15f9ee;else{if(!cheapest&&_0x3116f5['BuildCost']>_0x4d7aa7)_0x4d7aa7=_0x3116f5[_0x4785f5(0x14d)],_0x24ad45=_0x15f9ee;else{if(_0x3116f5['BuildCost']===_0x4d7aa7){if(cheapest&&_0x3116f5[_0x4785f5(0x128)]<Buildings[_0x24ad45][_0x4785f5(0x128)])_0x24ad45=_0x15f9ee;else{if(!cheapest&&_0x3116f5[_0x4785f5(0x128)]>Buildings[_0x24ad45]['LaborCost'])_0x24ad45=_0x15f9ee;else _0x3116f5[_0x4785f5(0x128)]===Buildings[_0x24ad45][_0x4785f5(0x128)]&&((_0x3116f5[_0x4785f5(0x190)]===_0x4785f5(0x138)||_0x3116f5[_0x4785f5(0x190)]===_0x4785f5(0x163))&&(_0x24ad45=_0x15f9ee));}}}}}return _0x24ad45;}function createRelatedCard(_0x21cb4e,_0x112c86,_0x4efa7e){const _0x5c91d2=a0_0x40abf5;let _0x3ad3d0=[];switch(_0x4efa7e){case STORAGE_CARD:_0x3ad3d0=storageBuildings[_0x21cb4e][_0x5c91d2(0x10e)];break;case CRAFT_CARD:_0x3ad3d0=craftBuildings[_0x21cb4e][_0x5c91d2(0x10e)];break;case WORK_CARD:_0x3ad3d0=workerBuildings[_0x21cb4e][_0x5c91d2(0x10e)];break;default:console['error'](_0x5c91d2(0x139));return;}const _0x104bd9=createCard(_0x21cb4e,'',_0x4efa7e,_0x3ad3d0['length']<0x1);_0x112c86['appendChild'](_0x104bd9);if(_0x3ad3d0[_0x5c91d2(0x10a)]>0x0){const _0x2835b7=document[_0x5c91d2(0x1a5)]('ul');_0x104bd9['appendChild'](_0x2835b7),_0x3ad3d0['forEach'](_0x53a608=>{const _0x1f62df=_0x5c91d2;let _0x5dfa7e=[_0x1f62df(0x117),'Feed',_0x1f62df(0x197),'Water',_0x1f62df(0x19d),_0x1f62df(0x127)]['includes'](_0x53a608[_0x1f62df(0x10b)]);craftItemNeedsCard(_0x53a608,_0x2835b7,_0x4efa7e,_0x5dfa7e);});}}function checkScreenSize(){const _0x36c452=a0_0x40abf5;if(window[_0x36c452(0x196)]('(max-width:\x20480px)')[_0x36c452(0x19e)]){var _0x217b59=document[_0x36c452(0x16d)](_0x36c452(0x11c)),_0x2af617=document[_0x36c452(0x16d)]('treeContainer'),_0x5e1d10=document[_0x36c452(0x1a5)]('div');_0x5e1d10[_0x36c452(0x192)]=_0x36c452(0x18c),_0x5e1d10[_0x36c452(0x185)](_0x217b59),_0x2af617[_0x36c452(0x184)]['insertBefore'](_0x5e1d10,_0x2af617['nextSibling']);}else{}}